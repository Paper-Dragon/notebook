import{a as i,c as a,g as n,o as l}from"./app-CPTwOUCg.js";const e="/assets/image-20220810164720943-C8AHku18.png",h="/assets/image-20220810164713378-CqyDMWcw.png",t={};function p(k,s){return l(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="使用curl实现邮件发送" tabindex="-1"><a class="header-anchor" href="#使用curl实现邮件发送"><span>使用curl实现邮件发送</span></a></h1><h1 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h1><p>本文讲解如何通过curl实现邮件发送功能，通过此功能，可以将一些配置信息自动发送到指定邮箱，满足自动运维要求。 测试发件邮箱：sina 测试收件邮箱：qq</p><h1 id="脚本实例" tabindex="-1"><a class="header-anchor" href="#脚本实例"><span>脚本实例</span></a></h1><p>curl_send_mail.bat</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> off</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 使用curl实现邮件发送</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 参数</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> smtp=&quot;smtp://smtp.sina.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mail_from=发件地址@sina.com</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mail_to=收件地址@sina.com</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> data=mail.txt</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user=&quot;发件人用户名:发件人密码&quot;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 编写邮件头消息</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> From:%mail_from%</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">%data%</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> To:%mail_to%</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">%data%</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Subject:邮件内容标题</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %date</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">%&gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">%data%</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">%data%</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 这里填写具体的邮件内容</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">%data%</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 例如：获取当前的外网地址信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ifconfig.me</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">%data%</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 发送邮件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --verbose</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --url</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;%smtp%&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --mail-from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %mail_from%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --mail-rcpt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %mail_to%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --upload-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %data%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %user%</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 删除临时文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %data%</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pause</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="执行结果" tabindex="-1"><a class="header-anchor" href="#执行结果"><span>执行结果</span></a></h1><p><img src="`+e+'" alt="image-20220810164720943"></p><h1 id="邮箱配置" tabindex="-1"><a class="header-anchor" href="#邮箱配置"><span>邮箱配置</span></a></h1><p>新浪邮箱配置： <img src="'+h+'" alt="image-20220810164713378"></p>',10)])])}const d=i(t,[["render",p]]),c=JSON.parse('{"path":"/note-book/OperaSystems/%E4%BD%BF%E7%94%A8curl%E5%AE%9E%E7%8E%B0%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81.html","title":"使用curl实现邮件发送","lang":"zh-CN","frontmatter":{"description":"使用curl实现邮件发送 概述 本文讲解如何通过curl实现邮件发送功能，通过此功能，可以将一些配置信息自动发送到指定邮箱，满足自动运维要求。 测试发件邮箱：sina 测试收件邮箱：qq 脚本实例 curl_send_mail.bat 执行结果 image-20220810164720943 邮箱配置 新浪邮箱配置： image-20220810164...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"使用curl实现邮件发送\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-08-15T06:21:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/OperaSystems/%E4%BD%BF%E7%94%A8curl%E5%AE%9E%E7%8E%B0%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"使用curl实现邮件发送"}],["meta",{"property":"og:description","content":"使用curl实现邮件发送 概述 本文讲解如何通过curl实现邮件发送功能，通过此功能，可以将一些配置信息自动发送到指定邮箱，满足自动运维要求。 测试发件邮箱：sina 测试收件邮箱：qq 脚本实例 curl_send_mail.bat 执行结果 image-20220810164720943 邮箱配置 新浪邮箱配置： image-20220810164..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-08-15T06:21:14.000Z"}],["meta",{"property":"article:modified_time","content":"2023-08-15T06:21:14.000Z"}]]},"git":{"createdTime":1691939318000,"updatedTime":1692080474000,"contributors":[{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":1,"url":"https://github.com/Paper-Dragon"},{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon-SH"}],"changelog":[{"hash":"a231a897f2786fcba777d7fd48d7db7ec590eb70","time":1692080474000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"title"},{"hash":"392a519398b2e846f316619fbe831e100164de7c","time":1691939318000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Create The Worid!"}]},"readingTime":{"minutes":0.87,"words":261},"filePathRelative":"note-book/OperaSystems/使用curl实现邮件发送.md","excerpt":"\\n<h1>概述</h1>\\n<p>本文讲解如何通过curl实现邮件发送功能，通过此功能，可以将一些配置信息自动发送到指定邮箱，满足自动运维要求。\\n测试发件邮箱：sina\\n测试收件邮箱：qq</p>\\n<h1>脚本实例</h1>\\n<p>curl_send_mail.bat</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">@echo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> off</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 使用curl实现邮件发送</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -------------------------------------------</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 参数</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">set</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> smtp=\\"smtp://smtp.sina.com\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">set</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> mail_from=发件地址@sina.com</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">set</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> mail_to=收件地址@sina.com</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">set</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> data=mail.txt</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">set</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> user=\\"发件人用户名:发件人密码\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -------------------------------------------</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 编写邮件头消息</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">echo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> From:%mail_from%</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &gt; </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">%data%</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">echo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> To:%mail_to%</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &gt;&gt; </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">%data%</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">echo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Subject:邮件内容标题</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> %date</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">%&gt;&gt; </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">%data%</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">echo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">.</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;&gt; </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">%data%</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">echo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 这里填写具体的邮件内容</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &gt;&gt; </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">%data%</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 例如：获取当前的外网地址信息</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> curl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ifconfig.me</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &gt;&gt; </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">%data%</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -------------------------------------------</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 发送邮件</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">curl</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --verbose</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -s</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --url</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"%smtp%\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --mail-from</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> %mail_from%</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --mail-rcpt</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> %mail_to%</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --upload-file</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> %data%</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --user</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> %user%</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">rem</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 删除临时文件</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">del</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> %data%</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">pause</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{d as comp,c as data};
