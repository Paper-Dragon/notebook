import{r as ee}from"./codemirror-DpyRu-EA.js";import{g as Ke}from"./commonjsHelpers-CqkleIqs.js";import{i as ge,j as J,R as fr,S as ur,k as be,v as q,c as he,D as re,N as gr,o as ae,f as hr,m as cr,T as dr,O as vr,s as pr,L as mr,l as we,U as _e}from"./app-BrldQKfq.js";var Ne={exports:{}},Re;function Xe(){return Re||(Re=1,(function(A,_){(function(b){b(ee())})(function(b){function C(n,a,l,i){if(l&&l.call){var f=l;l=null}else var f=t(n,l,"rangeFinder");typeof a=="number"&&(a=b.Pos(a,0));var o=t(n,l,"minFoldSize");function u(w){var S=f(n,a);if(!S||S.to.line-S.from.line<o)return null;if(i==="fold")return S;for(var D=n.findMarksAt(S.from),F=0;F<D.length;++F)if(D[F].__isFold){if(!w)return null;S.cleared=!0,D[F].clear()}return S}var h=u(!0);if(t(n,l,"scanUp"))for(;!h&&a.line>n.firstLine();)a=b.Pos(a.line-1,0),h=u(!1);if(!(!h||h.cleared||i==="unfold")){var v=k(n,l,h);b.on(v,"mousedown",function(w){c.clear(),b.e_preventDefault(w)});var c=n.markText(h.from,h.to,{replacedWith:v,clearOnEnter:t(n,l,"clearOnEnter"),__isFold:!0});c.on("clear",function(w,S){b.signal(n,"unfold",n,w,S)}),b.signal(n,"fold",n,h.from,h.to)}}function k(n,a,l){var i=t(n,a,"widget");if(typeof i=="function"&&(i=i(l.from,l.to)),typeof i=="string"){var f=document.createTextNode(i);i=document.createElement("span"),i.appendChild(f),i.className="CodeMirror-foldmarker"}else i&&(i=i.cloneNode(!0));return i}b.newFoldFunction=function(n,a){return function(l,i){C(l,i,{rangeFinder:n,widget:a})}},b.defineExtension("foldCode",function(n,a,l){C(this,n,a,l)}),b.defineExtension("isFolded",function(n){for(var a=this.findMarksAt(n),l=0;l<a.length;++l)if(a[l].__isFold)return!0}),b.commands.toggleFold=function(n){n.foldCode(n.getCursor())},b.commands.fold=function(n){n.foldCode(n.getCursor(),null,"fold")},b.commands.unfold=function(n){n.foldCode(n.getCursor(),{scanUp:!1},"unfold")},b.commands.foldAll=function(n){n.operation(function(){for(var a=n.firstLine(),l=n.lastLine();a<=l;a++)n.foldCode(b.Pos(a,0),{scanUp:!1},"fold")})},b.commands.unfoldAll=function(n){n.operation(function(){for(var a=n.firstLine(),l=n.lastLine();a<=l;a++)n.foldCode(b.Pos(a,0),{scanUp:!1},"unfold")})},b.registerHelper("fold","combine",function(){var n=Array.prototype.slice.call(arguments,0);return function(a,l){for(var i=0;i<n.length;++i){var f=n[i](a,l);if(f)return f}}}),b.registerHelper("fold","auto",function(n,a){for(var l=n.getHelpers(a,"fold"),i=0;i<l.length;i++){var f=l[i](n,a);if(f)return f}});var e={rangeFinder:b.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};b.defineOption("foldOptions",null);function t(n,a,l){if(a&&a[l]!==void 0)return a[l];var i=n.options.foldOptions;return i&&i[l]!==void 0?i[l]:e[l]}b.defineExtension("foldOption",function(n,a){return t(this,n,a)})})})()),Ne.exports}Xe();var Ve={exports:{}},Ue;function br(){return Ue||(Ue=1,(function(A,_){(function(b){b(ee(),Xe())})(function(b){b.defineOption("foldGutter",!1,function(c,w,S){S&&S!=b.Init&&(c.clearGutter(c.state.foldGutter.options.gutter),c.state.foldGutter=null,c.off("gutterClick",f),c.off("changes",u),c.off("viewportChange",h),c.off("fold",v),c.off("unfold",v),c.off("swapDoc",u),c.off("optionChange",o)),w&&(c.state.foldGutter=new k(e(w)),i(c),c.on("gutterClick",f),c.on("changes",u),c.on("viewportChange",h),c.on("fold",v),c.on("unfold",v),c.on("swapDoc",u),c.on("optionChange",o))});var C=b.Pos;function k(c){this.options=c,this.from=this.to=0}function e(c){return c===!0&&(c={}),c.gutter==null&&(c.gutter="CodeMirror-foldgutter"),c.indicatorOpen==null&&(c.indicatorOpen="CodeMirror-foldgutter-open"),c.indicatorFolded==null&&(c.indicatorFolded="CodeMirror-foldgutter-folded"),c}function t(c,w){for(var S=c.findMarks(C(w,0),C(w+1,0)),D=0;D<S.length;++D)if(S[D].__isFold){var F=S[D].find(-1);if(F&&F.line===w)return S[D]}}function n(c){if(typeof c=="string"){var w=document.createElement("div");return w.className=c+" CodeMirror-guttermarker-subtle",w}else return c.cloneNode(!0)}function a(c,w,S){var D=c.state.foldGutter.options,F=w-1,E=c.foldOption(D,"minFoldSize"),I=c.foldOption(D,"rangeFinder"),O=typeof D.indicatorFolded=="string"&&l(D.indicatorFolded),L=typeof D.indicatorOpen=="string"&&l(D.indicatorOpen);c.eachLine(w,S,function(R){++F;var H=null,P=R.gutterMarkers;if(P&&(P=P[D.gutter]),t(c,F)){if(O&&P&&O.test(P.className))return;H=n(D.indicatorFolded)}else{var N=C(F,0),U=I&&I(c,N);if(U&&U.to.line-U.from.line>=E){if(L&&P&&L.test(P.className))return;H=n(D.indicatorOpen)}}!H&&!P||c.setGutterMarker(R,D.gutter,H)})}function l(c){return new RegExp("(^|\\s)"+c+"(?:$|\\s)\\s*")}function i(c){var w=c.getViewport(),S=c.state.foldGutter;S&&(c.operation(function(){a(c,w.from,w.to)}),S.from=w.from,S.to=w.to)}function f(c,w,S){var D=c.state.foldGutter;if(D){var F=D.options;if(S==F.gutter){var E=t(c,w);E?E.clear():c.foldCode(C(w,0),F)}}}function o(c,w){w=="mode"&&u(c)}function u(c){var w=c.state.foldGutter;if(w){var S=w.options;w.from=w.to=0,clearTimeout(w.changeUpdate),w.changeUpdate=setTimeout(function(){i(c)},S.foldOnChangeTimeSpan||600)}}function h(c){var w=c.state.foldGutter;if(w){var S=w.options;clearTimeout(w.changeUpdate),w.changeUpdate=setTimeout(function(){var D=c.getViewport();w.from==w.to||D.from-w.to>20||w.from-D.to>20?i(c):c.operation(function(){D.from<w.from&&(a(c,D.from,w.from),w.from=D.from),D.to>w.to&&(a(c,w.to,D.to),w.to=D.to)})},S.updateViewportTimeSpan||400)}}function v(c,w){var S=c.state.foldGutter;if(S){var D=w.line;D>=S.from&&D<S.to&&a(c,D,D+1)}}})})()),Ve.exports}br();var He={exports:{}},We;function wr(){return We||(We=1,(function(A,_){(function(b){b(ee())})(function(b){function C(k){return function(e,t){var n=t.line,a=e.getLine(n);function l(v){for(var c,w=t.ch,S=0;;){var D=w<=0?-1:a.lastIndexOf(v[0],w-1);if(D==-1){if(S==1)break;S=1,w=a.length;continue}if(S==1&&D<t.ch)break;if(c=e.getTokenTypeAt(b.Pos(n,D+1)),!/^(comment|string)/.test(c))return{ch:D+1,tokenType:c,pair:v};w=D-1}}function i(v){var c=1,w=e.lastLine(),S,D=v.ch,F;e:for(var E=n;E<=w;++E)for(var I=e.getLine(E),O=E==n?D:0;;){var L=I.indexOf(v.pair[0],O),R=I.indexOf(v.pair[1],O);if(L<0&&(L=I.length),R<0&&(R=I.length),O=Math.min(L,R),O==I.length)break;if(e.getTokenTypeAt(b.Pos(E,O+1))==v.tokenType){if(O==L)++c;else if(!--c){S=E,F=O;break e}}++O}return S==null||n==S?null:{from:b.Pos(n,D),to:b.Pos(S,F)}}for(var f=[],o=0;o<k.length;o++){var u=l(k[o]);u&&f.push(u)}f.sort(function(v,c){return v.ch-c.ch});for(var o=0;o<f.length;o++){var h=i(f[o]);if(h)return h}return null}}b.registerHelper("fold","brace",C([["{","}"],["[","]"]])),b.registerHelper("fold","brace-paren",C([["{","}"],["[","]"],["(",")"]])),b.registerHelper("fold","import",function(k,e){function t(o){if(o<k.firstLine()||o>k.lastLine())return null;var u=k.getTokenAt(b.Pos(o,1));if(/\S/.test(u.string)||(u=k.getTokenAt(b.Pos(o,u.end+1))),u.type!="keyword"||u.string!="import")return null;for(var h=o,v=Math.min(k.lastLine(),o+10);h<=v;++h){var c=k.getLine(h),w=c.indexOf(";");if(w!=-1)return{startCh:u.end,end:b.Pos(h,w)}}}var n=e.line,a=t(n),l;if(!a||t(n-1)||(l=t(n-2))&&l.end.line==n-1)return null;for(var i=a.end;;){var f=t(i.line+1);if(f==null)break;i=f.end}return{from:k.clipPos(b.Pos(n,a.startCh+1)),to:i}}),b.registerHelper("fold","include",function(k,e){function t(f){if(f<k.firstLine()||f>k.lastLine())return null;var o=k.getTokenAt(b.Pos(f,1));if(/\S/.test(o.string)||(o=k.getTokenAt(b.Pos(f,o.end+1))),o.type=="meta"&&o.string.slice(0,8)=="#include")return o.start+8}var n=e.line,a=t(n);if(a==null||t(n-1)!=null)return null;for(var l=n;;){var i=t(l+1);if(i==null)break;++l}return{from:b.Pos(n,a+1),to:k.clipPos(b.Pos(l))}})})})()),He.exports}wr();var ze={exports:{}},Ge;function _r(){return Ge||(Ge=1,(function(A,_){(function(b){b(ee())})(function(b){var C="CodeMirror-activeline",k="CodeMirror-activeline-background",e="CodeMirror-activeline-gutter";b.defineOption("styleActiveLine",!1,function(i,f,o){var u=o==b.Init?!1:o;f!=u&&(u&&(i.off("beforeSelectionChange",l),t(i),delete i.state.activeLines),f&&(i.state.activeLines=[],a(i,i.listSelections()),i.on("beforeSelectionChange",l)))});function t(i){for(var f=0;f<i.state.activeLines.length;f++)i.removeLineClass(i.state.activeLines[f],"wrap",C),i.removeLineClass(i.state.activeLines[f],"background",k),i.removeLineClass(i.state.activeLines[f],"gutter",e)}function n(i,f){if(i.length!=f.length)return!1;for(var o=0;o<i.length;o++)if(i[o]!=f[o])return!1;return!0}function a(i,f){for(var o=[],u=0;u<f.length;u++){var h=f[u],v=i.getOption("styleActiveLine");if(!(typeof v=="object"&&v.nonEmpty?h.anchor.line!=h.head.line:!h.empty())){var c=i.getLineHandleVisualStart(h.head.line);o[o.length-1]!=c&&o.push(c)}}n(i.state.activeLines,o)||i.operation(function(){t(i);for(var w=0;w<o.length;w++)i.addLineClass(o[w],"wrap",C),i.addLineClass(o[w],"background",k),i.addLineClass(o[w],"gutter",e);i.state.activeLines=o})}function l(i,f){a(i,f.ranges)}})})()),ze.exports}_r();var kr=ee();const Ye=Ke(kr);var $e={exports:{}},je;function yr(){return je||(je=1,(function(A,_){(function(b){b(ee())})(function(b){var C=b.Pos,k="http://www.w3.org/2000/svg";function e(r,s){this.mv=r,this.type=s,this.classes=s=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}e.prototype={constructor:e,init:function(r,s,g){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=b(r,ce({value:s,readOnly:!this.mv.options.allowEditingOriginals},ce(g))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new de(this.edit)),this.orig.state.trackAlignable=new de(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var d=g.chunkClassLocation||"background";Object.prototype.toString.call(d)!="[object Array]"&&(d=[d]),this.classes.classLocation=d,this.diff=ye($(s),$(g.value),this.mv.options.ignoreWhitespace),this.chunks=Se(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=g.showDifferences!==!1},registerEvents:function(r){this.forceUpdate=a(this),o(this,!0,!1),l(this,r)},setShowDifferences:function(r){r=r!==!1,r!=this.showDifferences&&(this.showDifferences=r,this.forceUpdate("full"))}};function t(r){r.diffOutOfDate&&(r.diff=ye(r.orig.getValue(),r.edit.getValue(),r.mv.options.ignoreWhitespace),r.chunks=Se(r.diff),r.diffOutOfDate=!1,b.signal(r.edit,"updateDiff",r.diff))}var n=!1;function a(r){var s={from:0,to:0,marked:[]},g={from:0,to:0,marked:[]},d,p=!1;function m(V){n=!0,p=!1,V=="full"&&(r.svg&&oe(r.svg),r.copyButtons&&oe(r.copyButtons),h(r.edit,s.marked,r.classes),h(r.orig,g.marked,r.classes),s.from=s.to=g.from=g.to=0),t(r),r.showDifferences&&(v(r.edit,r.diff,s,DIFF_INSERT,r.classes),v(r.orig,r.diff,g,DIFF_DELETE,r.classes)),r.mv.options.connect=="align"&&O(r),S(r),r.needsScrollSync!=null&&i(r,r.needsScrollSync),n=!1}function y(V){n||(r.dealigned=!0,T(V))}function T(V){n||p||(clearTimeout(d),V===!0&&(p=!0),d=setTimeout(m,V===!0?20:250))}function M(V,W){r.diffOutOfDate||(r.diffOutOfDate=!0,s.from=s.to=g.from=g.to=0),y(W.text.length-1!=W.to.line-W.from.line)}function B(){r.diffOutOfDate=!0,r.dealigned=!0,m("full")}return r.edit.on("change",M),r.orig.on("change",M),r.edit.on("swapDoc",B),r.orig.on("swapDoc",B),r.mv.options.connect=="align"&&(b.on(r.edit.state.trackAlignable,"realign",y),b.on(r.orig.state.trackAlignable,"realign",y)),r.edit.on("viewportChange",function(){T(!1)}),r.orig.on("viewportChange",function(){T(!1)}),m(),m}function l(r,s){r.edit.on("scroll",function(){i(r,!0)&&S(r)}),r.orig.on("scroll",function(){i(r,!1)&&S(r),s&&i(s,!0)&&S(s)})}function i(r,s){if(r.diffOutOfDate)return r.lockScroll&&r.needsScrollSync==null&&(r.needsScrollSync=s),!1;if(r.needsScrollSync=null,!r.lockScroll)return!0;var g,d,p=+new Date;if(s?(g=r.edit,d=r.orig):(g=r.orig,d=r.edit),g.state.scrollSetBy==r&&(g.state.scrollSetAt||0)+250>p)return!1;var m=g.getScrollInfo();if(r.mv.options.connect=="align")z=m.top;else{var y=.5*m.clientHeight,T=m.top+y,M=g.lineAtHeight(T,"local"),B=er(r.chunks,M,s),V=f(g,s?B.edit:B.orig),W=f(d,s?B.orig:B.edit),G=(T-V.top)/(V.bot-V.top),z=W.top-y+G*(W.bot-W.top),j,Z;if(z>m.top&&(Z=m.top/y)<1)z=z*Z+m.top*(1-Z);else if((j=m.height-m.clientHeight-m.top)<y){var X=d.getScrollInfo(),Q=X.height-X.clientHeight-z;Q>j&&(Z=j/y)<1&&(z=z*Z+(X.height-X.clientHeight-j)*(1-Z))}}return d.scrollTo(m.left,z),d.state.scrollSetAt=p,d.state.scrollSetBy=r,!0}function f(r,s){var g=s.after;return g==null&&(g=r.lastLine()+1),{top:r.heightAtLine(s.before||0,"local"),bot:r.heightAtLine(g,"local")}}function o(r,s,g){r.lockScroll=s,s&&g!=!1&&i(r,DIFF_INSERT)&&S(r),(s?b.addClass:b.rmClass)(r.lockButton,"CodeMirror-merge-scrolllock-enabled")}function u(r,s,g){for(var d=g.classLocation,p=0;p<d.length;p++)r.removeLineClass(s,d[p],g.chunk),r.removeLineClass(s,d[p],g.start),r.removeLineClass(s,d[p],g.end)}function h(r,s,g){for(var d=0;d<s.length;++d){var p=s[d];p instanceof b.TextMarker?p.clear():p.parent&&u(r,p,g)}s.length=0}function v(r,s,g,d,p){var m=r.getViewport();r.operation(function(){g.from==g.to||m.from-g.to>20||g.from-m.to>20?(h(r,g.marked,p),w(r,s,d,g.marked,m.from,m.to,p),g.from=m.from,g.to=m.to):(m.from<g.from&&(w(r,s,d,g.marked,m.from,g.from,p),g.from=m.from),m.to>g.to&&(w(r,s,d,g.marked,g.to,m.to,p),g.to=m.to))})}function c(r,s,g,d,p,m){for(var y=g.classLocation,T=r.getLineHandle(s),M=0;M<y.length;M++)d&&r.addLineClass(T,y[M],g.chunk),p&&r.addLineClass(T,y[M],g.start),m&&r.addLineClass(T,y[M],g.end);return T}function w(r,s,g,d,p,m,y){var T=C(0,0),M=C(p,0),B=r.clipPos(C(m-1)),V=g==DIFF_DELETE?y.del:y.insert;function W(ve,te){for(var ne=Math.max(p,ve),Be=Math.min(m,te),ie=ne;ie<Be;++ie)d.push(c(r,ie,y,!0,ie==ve,ie==te-1));ve==te&&ne==te&&Be==te&&(ne?d.push(c(r,ne-1,y,!1,!1,!0)):d.push(c(r,ne,y,!1,!0,!1)))}for(var G=0,z=!1,j=0;j<s.length;++j){var Z=s[j],X=Z[0],Q=Z[1];if(X==DIFF_EQUAL){var Ee=T.line+(De(s,j)?0:1);se(T,Q);var Le=T.line+(Ce(s,j)?1:0);Le>Ee&&(z&&(W(G,Ee),z=!1),G=Le)}else if(z=!0,X==g){var Oe=se(T,Q,!0),Ie=ar(M,T),Pe=ir(B,Oe);lr(Ie,Pe)||d.push(r.markText(Ie,Pe,{className:V})),T=Oe}}z&&W(G,T.line+1)}function S(r){if(r.showDifferences){if(r.svg){oe(r.svg);var s=r.gap.offsetWidth;Me(r.svg,"width",s,"height",r.gap.offsetHeight)}r.copyButtons&&oe(r.copyButtons);for(var g=r.edit.getViewport(),d=r.orig.getViewport(),p=r.mv.wrap.getBoundingClientRect().top,m=p-r.edit.getScrollerElement().getBoundingClientRect().top+r.edit.getScrollInfo().top,y=p-r.orig.getScrollerElement().getBoundingClientRect().top+r.orig.getScrollInfo().top,T=0;T<r.chunks.length;T++){var M=r.chunks[T];M.editFrom<=g.to&&M.editTo>=g.from&&M.origFrom<=d.to&&M.origTo>=d.from&&H(r,M,y,m,s)}}}function D(r,s){for(var g=0,d=0,p=0;p<s.length;p++){var m=s[p];if(m.editTo>r&&m.editFrom<=r)return null;if(m.editFrom>r)break;g=m.editTo,d=m.origTo}return d+(r-g)}function F(r,s,g){for(var d=r.state.trackAlignable,p=r.firstLine(),m=0,y=[],T=0;;T++){for(var M=s[T],B=M?g?M.origFrom:M.editFrom:1e9;m<d.alignable.length;m+=2){var V=d.alignable[m]+1;if(!(V<=p))if(V<=B)y.push(V);else break}if(!M)break;y.push(p=g?M.origTo:M.editTo)}return y}function E(r,s,g,d){var p=0,m=0,y=0,T=0;e:for(;;p++){var M=r[p],B=s[m];if(!M&&B==null)break;for(var V=M?M[0]:1e9,W=B??1e9;y<g.length;){var G=g[y];if(G.origFrom<=W&&G.origTo>W){m++,p--;continue e}if(G.editTo>V){if(G.editFrom<=V)continue e;break}T+=G.origTo-G.origFrom-(G.editTo-G.editFrom),y++}if(V==W-T)M[d]=W,m++;else if(V<W-T)M[d]=V+T;else{var z=[W-T,null,null];z[d]=W,r.splice(p,0,z),m++}}}function I(r,s){var g=F(r.edit,r.chunks,!1),d=[];if(s)for(var p=0,m=0;p<s.chunks.length;p++){for(var y=s.chunks[p].editTo;m<g.length&&g[m]<y;)m++;(m==g.length||g[m]!=y)&&g.splice(m++,0,y)}for(var p=0;p<g.length;p++)d.push([g[p],null,null]);return E(d,F(r.orig,r.chunks,!0),r.chunks,1),s&&E(d,F(s.orig,s.chunks,!0),s.chunks,2),d}function O(r,s){if(!(!r.dealigned&&!s)){if(!r.orig.curOp)return r.orig.operation(function(){O(r,s)});r.dealigned=!1;var g=r.mv.left==r?r.mv.right:r.mv.left;g&&(t(g),g.dealigned=!1);for(var d=I(r,g),p=r.mv.aligners,m=0;m<p.length;m++)p[m].clear();p.length=0;var y=[r.edit,r.orig],T=[],M=[];g&&y.push(g.orig);for(var m=0;m<y.length;m++)T.push(y[m].getScrollInfo().top),M.push(-y[m].getScrollerElement().getBoundingClientRect().top);(M[0]!=M[1]||y.length==3&&M[1]!=M[2])&&L(y,M,[0,0,0],p);for(var B=0;B<d.length;B++)L(y,M,d[B],p);for(var m=0;m<y.length;m++)y[m].scrollTo(null,T[m])}}function L(r,s,g,d){for(var p=-1e8,m=[],y=0;y<r.length;y++)if(g[y]!=null){var T=r[y].heightAtLine(g[y],"local")-s[y];m[y]=T,p=Math.max(p,T)}for(var y=0;y<r.length;y++)if(g[y]!=null){var M=p-m[y];M>1&&d.push(R(r[y],g[y],M))}}function R(r,s,g){var d=!0;s>r.lastLine()&&(s--,d=!1);var p=document.createElement("div");return p.className="CodeMirror-merge-spacer",p.style.height=g+"px",p.style.minWidth="1px",r.addLineWidget(s,p,{height:g,above:d,mergeSpacer:!0,handleMouseEvents:!0})}function H(r,s,g,d,p){var m=r.type=="left",y=r.orig.heightAtLine(s.origFrom,"local",!0)-g;if(r.svg){var T=y,M=r.edit.heightAtLine(s.editFrom,"local",!0)-d;if(m){var B=T;T=M,M=B}var V=r.orig.heightAtLine(s.origTo,"local",!0)-g,W=r.edit.heightAtLine(s.editTo,"local",!0)-d;if(m){var B=V;V=W,W=B}var G=" C "+p/2+" "+M+" "+p/2+" "+T+" "+(p+2)+" "+T,z=" C "+p/2+" "+V+" "+p/2+" "+W+" -1 "+W;Me(r.svg.appendChild(document.createElementNS(k,"path")),"d","M -1 "+M+G+" L "+(p+2)+" "+V+z+" z","class",r.classes.connect)}if(r.copyButtons){var j=r.copyButtons.appendChild(K("div",r.type=="left"?"⇝":"⇜","CodeMirror-merge-copy")),Z=r.mv.options.allowEditingOriginals;if(j.title=r.edit.phrase(Z?"Push to left":"Revert chunk"),j.chunk=s,j.style.top=(s.origTo>s.origFrom?y:r.edit.heightAtLine(s.editFrom,"local")-d)+"px",j.setAttribute("role","button"),j.setAttribute("tabindex","0"),j.setAttribute("aria-label",j.title),Z){var X=r.edit.heightAtLine(s.editFrom,"local")-d,Q=r.copyButtons.appendChild(K("div",r.type=="right"?"⇝":"⇜","CodeMirror-merge-copy-reverse"));Q.title="Push to right",Q.chunk={editFrom:s.origFrom,editTo:s.origTo,origFrom:s.editFrom,origTo:s.editTo},Q.style.top=X+"px",r.type=="right"?Q.style.left="2px":Q.style.right="2px",Q.setAttribute("role","button"),Q.setAttribute("tabindex","0"),Q.setAttribute("aria-label",Q.title)}}}function P(r,s,g,d){if(!r.diffOutOfDate){var p=d.origTo>g.lastLine()?C(d.origFrom-1):C(d.origFrom,0),m=C(d.origTo,0),y=d.editTo>s.lastLine()?C(d.editFrom-1):C(d.editFrom,0),T=C(d.editTo,0),M=r.mv.options.revertChunk;M?M(r.mv,g,p,m,s,y,T):s.replaceRange(g.getRange(p,m),y,T)}}var N=b.MergeView=function(r,s){if(!(this instanceof N))return new N(r,s);this.options=s;var g=s.origLeft,d=s.origRight==null?s.orig:s.origRight,p=g!=null,m=d!=null,y=1+(p?1:0)+(m?1:0),T=[],M=this.left=null,B=this.right=null,V=this;if(p){M=this.left=new e(this,"left");var W=K("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");T.push(W),T.push(U(M))}var G=K("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(T.push(G),m){B=this.right=new e(this,"right"),T.push(U(B));var z=K("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");T.push(z)}(m?z:G).className+=" CodeMirror-merge-pane-rightmost",T.push(K("div",null,null,"height: 0; clear: both;"));var j=this.wrap=r.appendChild(K("div",T,"CodeMirror-merge CodeMirror-merge-"+y+"pane"));this.edit=b(G,ce(s)),M&&M.init(W,g,s),B&&B.init(z,d,s),s.collapseIdentical&&this.editor().operation(function(){nr(V,s.collapseIdentical)}),s.connect=="align"&&(this.aligners=[],O(this.left||this.right,!0)),M&&M.registerEvents(B),B&&B.registerEvents(M);var Z=function(){M&&S(M),B&&S(B)};b.on(window,"resize",Z);var X=setInterval(function(){for(var Q=j.parentNode;Q&&Q!=document.body;Q=Q.parentNode);Q||(clearInterval(X),b.off(window,"resize",Z))},5e3)};function U(r){var s=r.lockButton=K("div",null,"CodeMirror-merge-scrolllock");s.setAttribute("role","button"),s.setAttribute("tabindex","0");var g=K("div",[s],"CodeMirror-merge-scrolllock-wrap");b.on(s,"click",function(){o(r,!r.lockScroll)}),b.on(s,"keyup",function(y){(y.key==="Enter"||y.code==="Space")&&o(r,!r.lockScroll)});var d=[g];if(r.mv.options.revertButtons!==!1){r.copyButtons=K("div",null,"CodeMirror-merge-copybuttons-"+r.type);var p=function(y){var T=y.target||y.srcElement;if(T.chunk){if(T.className=="CodeMirror-merge-copy-reverse"){P(r,r.orig,r.edit,T.chunk);return}P(r,r.edit,r.orig,T.chunk)}};b.on(r.copyButtons,"click",p),b.on(r.copyButtons,"keyup",function(y){(y.key==="Enter"||y.code==="Space")&&p(y)}),d.unshift(r.copyButtons)}if(r.mv.options.connect!="align"){var m=document.createElementNS&&document.createElementNS(k,"svg");m&&!m.createSVGRect&&(m=null),r.svg=m,m&&d.push(m)}return r.gap=K("div",d,"CodeMirror-merge-gap")}N.prototype={constructor:N,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(r){this.right&&this.right.setShowDifferences(r),this.left&&this.left.setShowDifferences(r)},rightChunks:function(){if(this.right)return t(this.right),this.right.chunks},leftChunks:function(){if(this.left)return t(this.left),this.left.chunks}};function $(r){return typeof r=="string"?r:r.getValue()}var Y;function ye(r,s,g){Y||(Y=new diff_match_patch);for(var d=Y.diff_main(r,s),p=0;p<d.length;++p){var m=d[p];(g?!/[^ \t]/.test(m[1]):!m[1])?d.splice(p--,1):p&&d[p-1][0]==m[0]&&(d.splice(p--,1),d[p][1]+=m[1])}return d}function Se(r){var s=[];if(!r.length)return s;for(var g=0,d=0,p=C(0,0),m=C(0,0),y=0;y<r.length;++y){var T=r[y],M=T[0];if(M==DIFF_EQUAL){var B=!De(r,y)||p.line<g||m.line<d?1:0,V=p.line+B,W=m.line+B;se(p,T[1],null,m);var G=Ce(r,y)?1:0,z=p.line+G,j=m.line+G;z>V&&(y&&s.push({origFrom:d,origTo:W,editFrom:g,editTo:V}),g=z,d=j)}else se(M==DIFF_INSERT?p:m,T[1])}return(g<=p.line||d<=m.line)&&s.push({origFrom:d,origTo:m.line+1,editFrom:g,editTo:p.line+1}),s}function Ce(r,s){if(s==r.length-1)return!0;var g=r[s+1][1];return g.length==1&&s<r.length-2||g.charCodeAt(0)!=10?!1:s==r.length-2?!0:(g=r[s+2][1],(g.length>1||s==r.length-3)&&g.charCodeAt(0)==10)}function De(r,s){if(s==0)return!0;var g=r[s-1][1];return g.charCodeAt(g.length-1)!=10?!1:s==1?!0:(g=r[s-2][1],g.charCodeAt(g.length-1)==10)}function er(r,s,g){for(var d,p,m,y,T=0;T<r.length;T++){var M=r[T],B=g?M.editFrom:M.origFrom,V=g?M.editTo:M.origTo;p==null&&(B>s?(p=M.editFrom,y=M.origFrom):V>s&&(p=M.editTo,y=M.origTo)),V<=s?(d=M.editTo,m=M.origTo):B<=s&&(d=M.editFrom,m=M.origFrom)}return{edit:{before:d,after:p},orig:{before:m,after:y}}}function rr(r,s,g){r.addLineClass(s,"wrap","CodeMirror-merge-collapsed-line");var d=document.createElement("span");d.className="CodeMirror-merge-collapsed-widget",d.title=r.phrase("Identical text collapsed. Click to expand.");var p=r.markText(C(s,0),C(g-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:d,clearOnEnter:!0});function m(){p.clear(),r.removeLineClass(s,"wrap","CodeMirror-merge-collapsed-line")}return p.explicitlyCleared&&m(),b.on(d,"click",m),p.on("clear",m),b.on(d,"click",m),{mark:p,clear:m}}function tr(r,s){var g=[];function d(){for(var T=0;T<g.length;T++)g[T].clear()}for(var p=0;p<s.length;p++){var m=s[p],y=rr(m.cm,m.line,m.line+r);g.push(y),y.mark.on("clear",d)}return g[0].mark}function Te(r,s,g,d){for(var p=0;p<r.chunks.length;p++)for(var m=r.chunks[p],y=m.editFrom-s;y<m.editTo+s;y++){var T=y+g;T>=0&&T<d.length&&(d[T]=!1)}}function nr(r,s){typeof s!="number"&&(s=2);for(var g=[],d=r.editor(),p=d.firstLine(),m=p,y=d.lastLine();m<=y;m++)g.push(!0);r.left&&Te(r.left,s,p,g),r.right&&Te(r.right,s,p,g);for(var T=0;T<g.length;T++)if(g[T]){for(var M=T+p,B=1;T<g.length-1&&g[T+1];T++,B++);if(B>s){var V=[{line:M,cm:d}];r.left&&V.push({line:D(M,r.left.chunks),cm:r.left.orig}),r.right&&V.push({line:D(M,r.right.chunks),cm:r.right.orig});var W=tr(B,V);r.options.onCollapse&&r.options.onCollapse(r,M,B,W)}}}function K(r,s,g,d){var p=document.createElement(r);if(g&&(p.className=g),d&&(p.style.cssText=d),typeof s=="string")p.appendChild(document.createTextNode(s));else if(s)for(var m=0;m<s.length;++m)p.appendChild(s[m]);return p}function oe(r){for(var s=r.childNodes.length;s>0;--s)r.removeChild(r.firstChild)}function Me(r){for(var s=1;s<arguments.length;s+=2)r.setAttribute(arguments[s],arguments[s+1])}function ce(r,s){s||(s={});for(var g in r)r.hasOwnProperty(g)&&(s[g]=r[g]);return s}function se(r,s,g,d){for(var p=g?C(r.line,r.ch):r,m=0;;){var y=s.indexOf(`
`,m);if(y==-1)break;++p.line,d&&++d.line,m=y+1}return p.ch=(m?0:p.ch)+(s.length-m),d&&(d.ch=(m?0:d.ch)+(s.length-m)),p}var Ae=1,x=2,fe=4;function de(r){this.cm=r,this.alignable=[],this.height=r.doc.height;var s=this;r.on("markerAdded",function(g,d){if(d.collapsed){var p=d.find(1);p!=null&&s.set(p.line,fe)}}),r.on("markerCleared",function(g,d,p,m){m!=null&&d.collapsed&&s.check(m,fe,s.hasMarker)}),r.on("markerChanged",this.signal.bind(this)),r.on("lineWidgetAdded",function(g,d,p){d.mergeSpacer||(d.above?s.set(p-1,x):s.set(p,Ae))}),r.on("lineWidgetCleared",function(g,d,p){d.mergeSpacer||(d.above?s.check(p-1,x,s.hasWidgetBelow):s.check(p,Ae,s.hasWidget))}),r.on("lineWidgetChanged",this.signal.bind(this)),r.on("change",function(g,d){var p=d.from.line,m=d.to.line-d.from.line,y=d.text.length-1,T=p+y;(m||y)&&s.map(p,m,y),s.check(T,fe,s.hasMarker),(m||y)&&s.check(d.from.line,fe,s.hasMarker)}),r.on("viewportChange",function(){s.cm.doc.height!=s.height&&s.signal()})}de.prototype={signal:function(){b.signal(this,"realign"),this.height=this.cm.doc.height},set:function(r,s){for(var g=-1;g<this.alignable.length;g+=2){var d=this.alignable[g]-r;if(d==0){if((this.alignable[g+1]&s)==s)return;this.alignable[g+1]|=s,this.signal();return}if(d>0)break}this.signal(),this.alignable.splice(g,0,r,s)},find:function(r){for(var s=0;s<this.alignable.length;s+=2)if(this.alignable[s]==r)return s;return-1},check:function(r,s,g){var d=this.find(r);if(!(d==-1||!(this.alignable[d+1]&s))&&!g.call(this,r)){this.signal();var p=this.alignable[d+1]&~s;p?this.alignable[d+1]=p:this.alignable.splice(d,2)}},hasMarker:function(r){var s=this.cm.getLineHandle(r);if(s.markedSpans){for(var g=0;g<s.markedSpans.length;g++)if(s.markedSpans[g].marker.collapsed&&s.markedSpans[g].to!=null)return!0}return!1},hasWidget:function(r){var s=this.cm.getLineHandle(r);if(s.widgets){for(var g=0;g<s.widgets.length;g++)if(!s.widgets[g].above&&!s.widgets[g].mergeSpacer)return!0}return!1},hasWidgetBelow:function(r){if(r==this.cm.lastLine())return!1;var s=this.cm.getLineHandle(r+1);if(s.widgets){for(var g=0;g<s.widgets.length;g++)if(s.widgets[g].above&&!s.widgets[g].mergeSpacer)return!0}return!1},map:function(r,s,g){for(var d=g-s,p=r+s,m=-1,y=-1,T=0;T<this.alignable.length;T+=2){var M=this.alignable[T];M==r&&this.alignable[T+1]&x&&(m=T),M==p&&this.alignable[T+1]&x&&(y=T),!(M<=r)&&(M<p?this.alignable.splice(T--,2):this.alignable[T]+=d)}if(m>-1){var B=this.alignable[m+1];B==x?this.alignable.splice(m,2):this.alignable[m+1]=B&~x}y>-1&&g&&this.set(r+g,x)}};function ir(r,s){return(r.line-s.line||r.ch-s.ch)<0?r:s}function ar(r,s){return(r.line-s.line||r.ch-s.ch)>0?r:s}function lr(r,s){return r.line==s.line&&r.ch==s.ch}function or(r,s,g){for(var d=r.length-1;d>=0;d--){var p=r[d],m=(g?p.origTo:p.editTo)-1;if(m<s)return m}}function sr(r,s,g){for(var d=0;d<r.length;d++){var p=r[d],m=g?p.origFrom:p.editFrom;if(m>s)return m}}function Fe(r,s){var g=null,d=r.state.diffViews,p=r.getCursor().line;if(d)for(var m=0;m<d.length;m++){var y=d[m],T=r==y.orig;t(y);var M=s<0?or(y.chunks,p,T):sr(y.chunks,p,T);M!=null&&(g==null||(s<0?M>g:M<g))&&(g=M)}if(g!=null)r.setCursor(g,0);else return b.Pass}b.commands.goNextDiff=function(r){return Fe(r,1)},b.commands.goPrevDiff=function(r){return Fe(r,-1)}})})()),$e.exports}yr();var pe={exports:{}},Qe;function Sr(){return Qe||(Qe=1,(function(A){var _=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},b=-1,C=1,k=0;_.Diff=function(e,t){return[e,t]},_.prototype.diff_main=function(e,t,n,a){typeof a>"u"&&(this.Diff_Timeout<=0?a=Number.MAX_VALUE:a=new Date().getTime()+this.Diff_Timeout*1e3);var l=a;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e==t)return e?[new _.Diff(k,e)]:[];typeof n>"u"&&(n=!0);var i=n,f=this.diff_commonPrefix(e,t),o=e.substring(0,f);e=e.substring(f),t=t.substring(f),f=this.diff_commonSuffix(e,t);var u=e.substring(e.length-f);e=e.substring(0,e.length-f),t=t.substring(0,t.length-f);var h=this.diff_compute_(e,t,i,l);return o&&h.unshift(new _.Diff(k,o)),u&&h.push(new _.Diff(k,u)),this.diff_cleanupMerge(h),h},_.prototype.diff_compute_=function(e,t,n,a){var l;if(!e)return[new _.Diff(C,t)];if(!t)return[new _.Diff(b,e)];var i=e.length>t.length?e:t,f=e.length>t.length?t:e,o=i.indexOf(f);if(o!=-1)return l=[new _.Diff(C,i.substring(0,o)),new _.Diff(k,f),new _.Diff(C,i.substring(o+f.length))],e.length>t.length&&(l[0][0]=l[2][0]=b),l;if(f.length==1)return[new _.Diff(b,e),new _.Diff(C,t)];var u=this.diff_halfMatch_(e,t);if(u){var h=u[0],v=u[1],c=u[2],w=u[3],S=u[4],D=this.diff_main(h,c,n,a),F=this.diff_main(v,w,n,a);return D.concat([new _.Diff(k,S)],F)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,a):this.diff_bisect_(e,t,a)},_.prototype.diff_lineMode_=function(e,t,n){var a=this.diff_linesToChars_(e,t);e=a.chars1,t=a.chars2;var l=a.lineArray,i=this.diff_main(e,t,!1,n);this.diff_charsToLines_(i,l),this.diff_cleanupSemantic(i),i.push(new _.Diff(k,""));for(var f=0,o=0,u=0,h="",v="";f<i.length;){switch(i[f][0]){case C:u++,v+=i[f][1];break;case b:o++,h+=i[f][1];break;case k:if(o>=1&&u>=1){i.splice(f-o-u,o+u),f=f-o-u;for(var c=this.diff_main(h,v,!1,n),w=c.length-1;w>=0;w--)i.splice(f,0,c[w]);f=f+c.length}u=0,o=0,h="",v="";break}f++}return i.pop(),i},_.prototype.diff_bisect_=function(e,t,n){for(var a=e.length,l=t.length,i=Math.ceil((a+l)/2),f=i,o=2*i,u=new Array(o),h=new Array(o),v=0;v<o;v++)u[v]=-1,h[v]=-1;u[f+1]=0,h[f+1]=0;for(var c=a-l,w=c%2!=0,S=0,D=0,F=0,E=0,I=0;I<i&&!(new Date().getTime()>n);I++){for(var O=-I+S;O<=I-D;O+=2){var L=f+O,R;O==-I||O!=I&&u[L-1]<u[L+1]?R=u[L+1]:R=u[L-1]+1;for(var H=R-O;R<a&&H<l&&e.charAt(R)==t.charAt(H);)R++,H++;if(u[L]=R,R>a)D+=2;else if(H>l)S+=2;else if(w){var P=f+c-O;if(P>=0&&P<o&&h[P]!=-1){var N=a-h[P];if(R>=N)return this.diff_bisectSplit_(e,t,R,H,n)}}}for(var U=-I+F;U<=I-E;U+=2){var P=f+U,N;U==-I||U!=I&&h[P-1]<h[P+1]?N=h[P+1]:N=h[P-1]+1;for(var $=N-U;N<a&&$<l&&e.charAt(a-N-1)==t.charAt(l-$-1);)N++,$++;if(h[P]=N,N>a)E+=2;else if($>l)F+=2;else if(!w){var L=f+c-U;if(L>=0&&L<o&&u[L]!=-1){var R=u[L],H=f+R-L;if(N=a-N,R>=N)return this.diff_bisectSplit_(e,t,R,H,n)}}}}return[new _.Diff(b,e),new _.Diff(C,t)]},_.prototype.diff_bisectSplit_=function(e,t,n,a,l){var i=e.substring(0,n),f=t.substring(0,a),o=e.substring(n),u=t.substring(a),h=this.diff_main(i,f,!1,l),v=this.diff_main(o,u,!1,l);return h.concat(v)},_.prototype.diff_linesToChars_=function(e,t){var n=[],a={};n[0]="";function l(u){for(var h="",v=0,c=-1,w=n.length;c<u.length-1;){c=u.indexOf(`
`,v),c==-1&&(c=u.length-1);var S=u.substring(v,c+1);(a.hasOwnProperty?a.hasOwnProperty(S):a[S]!==void 0)?h+=String.fromCharCode(a[S]):(w==i&&(S=u.substring(v),c=u.length),h+=String.fromCharCode(w),a[S]=w,n[w++]=S),v=c+1}return h}var i=4e4,f=l(e);i=65535;var o=l(t);return{chars1:f,chars2:o,lineArray:n}},_.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var a=e[n][1],l=[],i=0;i<a.length;i++)l[i]=t[a.charCodeAt(i)];e[n][1]=l.join("")}},_.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,a=Math.min(e.length,t.length),l=a,i=0;n<l;)e.substring(i,l)==t.substring(i,l)?(n=l,i=n):a=l,l=Math.floor((a-n)/2+n);return l},_.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,a=Math.min(e.length,t.length),l=a,i=0;n<l;)e.substring(e.length-l,e.length-i)==t.substring(t.length-l,t.length-i)?(n=l,i=n):a=l,l=Math.floor((a-n)/2+n);return l},_.prototype.diff_commonOverlap_=function(e,t){var n=e.length,a=t.length;if(n==0||a==0)return 0;n>a?e=e.substring(n-a):n<a&&(t=t.substring(0,n));var l=Math.min(n,a);if(e==t)return l;for(var i=0,f=1;;){var o=e.substring(l-f),u=t.indexOf(o);if(u==-1)return i;f+=u,(u==0||e.substring(l-f)==t.substring(0,f))&&(i=f,f++)}},_.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,a=e.length>t.length?t:e;if(n.length<4||a.length*2<n.length)return null;var l=this;function i(D,F,E){for(var I=D.substring(E,E+Math.floor(D.length/4)),O=-1,L="",R,H,P,N;(O=F.indexOf(I,O+1))!=-1;){var U=l.diff_commonPrefix(D.substring(E),F.substring(O)),$=l.diff_commonSuffix(D.substring(0,E),F.substring(0,O));L.length<$+U&&(L=F.substring(O-$,O)+F.substring(O,O+U),R=D.substring(0,E-$),H=D.substring(E+U),P=F.substring(0,O-$),N=F.substring(O+U))}return L.length*2>=D.length?[R,H,P,N,L]:null}var f=i(n,a,Math.ceil(n.length/4)),o=i(n,a,Math.ceil(n.length/2)),u;if(!f&&!o)return null;o?f?u=f[4].length>o[4].length?f:o:u=o:u=f;var h,v,c,w;e.length>t.length?(h=u[0],v=u[1],c=u[2],w=u[3]):(c=u[0],w=u[1],h=u[2],v=u[3]);var S=u[4];return[h,v,c,w,S]},_.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],a=0,l=null,i=0,f=0,o=0,u=0,h=0;i<e.length;)e[i][0]==k?(n[a++]=i,f=u,o=h,u=0,h=0,l=e[i][1]):(e[i][0]==C?u+=e[i][1].length:h+=e[i][1].length,l&&l.length<=Math.max(f,o)&&l.length<=Math.max(u,h)&&(e.splice(n[a-1],0,new _.Diff(b,l)),e[n[a-1]+1][0]=C,a--,a--,i=a>0?n[a-1]:-1,f=0,o=0,u=0,h=0,l=null,t=!0)),i++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),i=1;i<e.length;){if(e[i-1][0]==b&&e[i][0]==C){var v=e[i-1][1],c=e[i][1],w=this.diff_commonOverlap_(v,c),S=this.diff_commonOverlap_(c,v);w>=S?(w>=v.length/2||w>=c.length/2)&&(e.splice(i,0,new _.Diff(k,c.substring(0,w))),e[i-1][1]=v.substring(0,v.length-w),e[i+1][1]=c.substring(w),i++):(S>=v.length/2||S>=c.length/2)&&(e.splice(i,0,new _.Diff(k,v.substring(0,S))),e[i-1][0]=C,e[i-1][1]=c.substring(0,c.length-S),e[i+1][0]=b,e[i+1][1]=v.substring(S),i++),i++}i++}},_.prototype.diff_cleanupSemanticLossless=function(e){function t(S,D){if(!S||!D)return 6;var F=S.charAt(S.length-1),E=D.charAt(0),I=F.match(_.nonAlphaNumericRegex_),O=E.match(_.nonAlphaNumericRegex_),L=I&&F.match(_.whitespaceRegex_),R=O&&E.match(_.whitespaceRegex_),H=L&&F.match(_.linebreakRegex_),P=R&&E.match(_.linebreakRegex_),N=H&&S.match(_.blanklineEndRegex_),U=P&&D.match(_.blanklineStartRegex_);return N||U?5:H||P?4:I&&!L&&R?3:L||R?2:I||O?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==k&&e[n+1][0]==k){var a=e[n-1][1],l=e[n][1],i=e[n+1][1],f=this.diff_commonSuffix(a,l);if(f){var o=l.substring(l.length-f);a=a.substring(0,a.length-f),l=o+l.substring(0,l.length-f),i=o+i}for(var u=a,h=l,v=i,c=t(a,l)+t(l,i);l.charAt(0)===i.charAt(0);){a+=l.charAt(0),l=l.substring(1)+i.charAt(0),i=i.substring(1);var w=t(a,l)+t(l,i);w>=c&&(c=w,u=a,h=l,v=i)}e[n-1][1]!=u&&(u?e[n-1][1]=u:(e.splice(n-1,1),n--),e[n][1]=h,v?e[n+1][1]=v:(e.splice(n+1,1),n--))}n++}},_.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,_.whitespaceRegex_=/\s/,_.linebreakRegex_=/[\r\n]/,_.blanklineEndRegex_=/\n\r?\n$/,_.blanklineStartRegex_=/^\r?\n\r?\n/,_.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],a=0,l=null,i=0,f=!1,o=!1,u=!1,h=!1;i<e.length;)e[i][0]==k?(e[i][1].length<this.Diff_EditCost&&(u||h)?(n[a++]=i,f=u,o=h,l=e[i][1]):(a=0,l=null),u=h=!1):(e[i][0]==b?h=!0:u=!0,l&&(f&&o&&u&&h||l.length<this.Diff_EditCost/2&&f+o+u+h==3)&&(e.splice(n[a-1],0,new _.Diff(b,l)),e[n[a-1]+1][0]=C,a--,l=null,f&&o?(u=h=!0,a=0):(a--,i=a>0?n[a-1]:-1,u=h=!1),t=!0)),i++;t&&this.diff_cleanupMerge(e)},_.prototype.diff_cleanupMerge=function(e){e.push(new _.Diff(k,""));for(var t=0,n=0,a=0,l="",i="",f;t<e.length;)switch(e[t][0]){case C:a++,i+=e[t][1],t++;break;case b:n++,l+=e[t][1],t++;break;case k:n+a>1?(n!==0&&a!==0&&(f=this.diff_commonPrefix(i,l),f!==0&&(t-n-a>0&&e[t-n-a-1][0]==k?e[t-n-a-1][1]+=i.substring(0,f):(e.splice(0,0,new _.Diff(k,i.substring(0,f))),t++),i=i.substring(f),l=l.substring(f)),f=this.diff_commonSuffix(i,l),f!==0&&(e[t][1]=i.substring(i.length-f)+e[t][1],i=i.substring(0,i.length-f),l=l.substring(0,l.length-f))),t-=n+a,e.splice(t,n+a),l.length&&(e.splice(t,0,new _.Diff(b,l)),t++),i.length&&(e.splice(t,0,new _.Diff(C,i)),t++),t++):t!==0&&e[t-1][0]==k?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,a=0,n=0,l="",i="";break}e[e.length-1][1]===""&&e.pop();var o=!1;for(t=1;t<e.length-1;)e[t-1][0]==k&&e[t+1][0]==k&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)==e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),o=!0):e[t][1].substring(0,e[t+1][1].length)==e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),o=!0)),t++;o&&this.diff_cleanupMerge(e)},_.prototype.diff_xIndex=function(e,t){var n=0,a=0,l=0,i=0,f;for(f=0;f<e.length&&(e[f][0]!==C&&(n+=e[f][1].length),e[f][0]!==b&&(a+=e[f][1].length),!(n>t));f++)l=n,i=a;return e.length!=f&&e[f][0]===b?i:i+(t-l)},_.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,a=/</g,l=/>/g,i=/\n/g,f=0;f<e.length;f++){var o=e[f][0],u=e[f][1],h=u.replace(n,"&amp;").replace(a,"&lt;").replace(l,"&gt;").replace(i,"&para;<br>");switch(o){case C:t[f]='<ins style="background:#e6ffe6;">'+h+"</ins>";break;case b:t[f]='<del style="background:#ffe6e6;">'+h+"</del>";break;case k:t[f]="<span>"+h+"</span>";break}}return t.join("")},_.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==C&&(t[n]=e[n][1]);return t.join("")},_.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==b&&(t[n]=e[n][1]);return t.join("")},_.prototype.diff_levenshtein=function(e){for(var t=0,n=0,a=0,l=0;l<e.length;l++){var i=e[l][0],f=e[l][1];switch(i){case C:n+=f.length;break;case b:a+=f.length;break;case k:t+=Math.max(n,a),n=0,a=0;break}}return t+=Math.max(n,a),t},_.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case C:t[n]="+"+encodeURI(e[n][1]);break;case b:t[n]="-"+e[n][1].length;break;case k:t[n]="="+e[n][1].length;break}return t.join("	").replace(/%20/g," ")},_.prototype.diff_fromDelta=function(e,t){for(var n=[],a=0,l=0,i=t.split(/\t/g),f=0;f<i.length;f++){var o=i[f].substring(1);switch(i[f].charAt(0)){case"+":try{n[a++]=new _.Diff(C,decodeURI(o))}catch{throw new Error("Illegal escape in diff_fromDelta: "+o)}break;case"-":case"=":var u=parseInt(o,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+o);var h=e.substring(l,l+=u);i[f].charAt(0)=="="?n[a++]=new _.Diff(k,h):n[a++]=new _.Diff(b,h);break;default:if(i[f])throw new Error("Invalid diff operation in diff_fromDelta: "+i[f])}}if(l!=e.length)throw new Error("Delta length ("+l+") does not equal source text length ("+e.length+").");return n},_.prototype.match_main=function(e,t,n){if(e==null||t==null||n==null)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},_.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var a=this.match_alphabet_(t),l=this;function i(R,H){var P=R/t.length,N=Math.abs(n-H);return l.Match_Distance?P+N/l.Match_Distance:N?1:P}var f=this.Match_Threshold,o=e.indexOf(t,n);o!=-1&&(f=Math.min(i(0,o),f),o=e.lastIndexOf(t,n+t.length),o!=-1&&(f=Math.min(i(0,o),f)));var u=1<<t.length-1;o=-1;for(var h,v,c=t.length+e.length,w,S=0;S<t.length;S++){for(h=0,v=c;h<v;)i(S,n+v)<=f?h=v:c=v,v=Math.floor((c-h)/2+h);c=v;var D=Math.max(1,n-v+1),F=Math.min(n+v,e.length)+t.length,E=Array(F+2);E[F+1]=(1<<S)-1;for(var I=F;I>=D;I--){var O=a[e.charAt(I-1)];if(S===0?E[I]=(E[I+1]<<1|1)&O:E[I]=(E[I+1]<<1|1)&O|((w[I+1]|w[I])<<1|1)|w[I+1],E[I]&u){var L=i(S,I-1);if(L<=f)if(f=L,o=I-1,o>n)D=Math.max(1,2*n-o);else break}}if(i(S+1,n)>f)break;w=E}return o},_.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},_.prototype.patch_addContext_=function(e,t){if(t.length!=0){if(e.start2===null)throw Error("patch not initialized");for(var n=t.substring(e.start2,e.start2+e.length1),a=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)a+=this.Patch_Margin,n=t.substring(e.start2-a,e.start2+e.length1+a);a+=this.Patch_Margin;var l=t.substring(e.start2-a,e.start2);l&&e.diffs.unshift(new _.Diff(k,l));var i=t.substring(e.start2+e.length1,e.start2+e.length1+a);i&&e.diffs.push(new _.Diff(k,i)),e.start1-=l.length,e.start2-=l.length,e.length1+=l.length+i.length,e.length2+=l.length+i.length}},_.prototype.patch_make=function(e,t,n){var a,l;if(typeof e=="string"&&typeof t=="string"&&typeof n>"u")a=e,l=this.diff_main(a,t,!0),l.length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(e&&typeof e=="object"&&typeof t>"u"&&typeof n>"u")l=e,a=this.diff_text1(l);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof n>"u")a=e,l=t;else if(typeof e=="string"&&typeof t=="string"&&n&&typeof n=="object")a=e,l=n;else throw new Error("Unknown call format to patch_make.");if(l.length===0)return[];for(var i=[],f=new _.patch_obj,o=0,u=0,h=0,v=a,c=a,w=0;w<l.length;w++){var S=l[w][0],D=l[w][1];switch(!o&&S!==k&&(f.start1=u,f.start2=h),S){case C:f.diffs[o++]=l[w],f.length2+=D.length,c=c.substring(0,h)+D+c.substring(h);break;case b:f.length1+=D.length,f.diffs[o++]=l[w],c=c.substring(0,h)+c.substring(h+D.length);break;case k:D.length<=2*this.Patch_Margin&&o&&l.length!=w+1?(f.diffs[o++]=l[w],f.length1+=D.length,f.length2+=D.length):D.length>=2*this.Patch_Margin&&o&&(this.patch_addContext_(f,v),i.push(f),f=new _.patch_obj,o=0,v=c,u=h);break}S!==C&&(u+=D.length),S!==b&&(h+=D.length)}return o&&(this.patch_addContext_(f,v),i.push(f)),i},_.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],l=new _.patch_obj;l.diffs=[];for(var i=0;i<a.diffs.length;i++)l.diffs[i]=new _.Diff(a.diffs[i][0],a.diffs[i][1]);l.start1=a.start1,l.start2=a.start2,l.length1=a.length1,l.length2=a.length2,t[n]=l}return t},_.prototype.patch_apply=function(e,t){if(e.length==0)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var a=0,l=[],i=0;i<e.length;i++){var f=e[i].start2+a,o=this.diff_text1(e[i].diffs),u,h=-1;if(o.length>this.Match_MaxBits?(u=this.match_main(t,o.substring(0,this.Match_MaxBits),f),u!=-1&&(h=this.match_main(t,o.substring(o.length-this.Match_MaxBits),f+o.length-this.Match_MaxBits),(h==-1||u>=h)&&(u=-1))):u=this.match_main(t,o,f),u==-1)l[i]=!1,a-=e[i].length2-e[i].length1;else{l[i]=!0,a=u-f;var v;if(h==-1?v=t.substring(u,u+o.length):v=t.substring(u,h+this.Match_MaxBits),o==v)t=t.substring(0,u)+this.diff_text2(e[i].diffs)+t.substring(u+o.length);else{var c=this.diff_main(o,v,!1);if(o.length>this.Match_MaxBits&&this.diff_levenshtein(c)/o.length>this.Patch_DeleteThreshold)l[i]=!1;else{this.diff_cleanupSemanticLossless(c);for(var w=0,S,D=0;D<e[i].diffs.length;D++){var F=e[i].diffs[D];F[0]!==k&&(S=this.diff_xIndex(c,w)),F[0]===C?t=t.substring(0,u+S)+F[1]+t.substring(u+S):F[0]===b&&(t=t.substring(0,u+S)+t.substring(u+this.diff_xIndex(c,w+F[1].length))),F[0]!==b&&(w+=F[1].length)}}}}}return t=t.substring(n.length,t.length-n.length),[t,l]},_.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",a=1;a<=t;a++)n+=String.fromCharCode(a);for(var a=0;a<e.length;a++)e[a].start1+=t,e[a].start2+=t;var l=e[0],i=l.diffs;if(i.length==0||i[0][0]!=k)i.unshift(new _.Diff(k,n)),l.start1-=t,l.start2-=t,l.length1+=t,l.length2+=t;else if(t>i[0][1].length){var f=t-i[0][1].length;i[0][1]=n.substring(i[0][1].length)+i[0][1],l.start1-=f,l.start2-=f,l.length1+=f,l.length2+=f}if(l=e[e.length-1],i=l.diffs,i.length==0||i[i.length-1][0]!=k)i.push(new _.Diff(k,n)),l.length1+=t,l.length2+=t;else if(t>i[i.length-1][1].length){var f=t-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,f),l.length1+=f,l.length2+=f}return n},_.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var a=e[n];e.splice(n--,1);for(var l=a.start1,i=a.start2,f="";a.diffs.length!==0;){var o=new _.patch_obj,u=!0;for(o.start1=l-f.length,o.start2=i-f.length,f!==""&&(o.length1=o.length2=f.length,o.diffs.push(new _.Diff(k,f)));a.diffs.length!==0&&o.length1<t-this.Patch_Margin;){var h=a.diffs[0][0],v=a.diffs[0][1];h===C?(o.length2+=v.length,i+=v.length,o.diffs.push(a.diffs.shift()),u=!1):h===b&&o.diffs.length==1&&o.diffs[0][0]==k&&v.length>2*t?(o.length1+=v.length,l+=v.length,u=!1,o.diffs.push(new _.Diff(h,v)),a.diffs.shift()):(v=v.substring(0,t-o.length1-this.Patch_Margin),o.length1+=v.length,l+=v.length,h===k?(o.length2+=v.length,i+=v.length):u=!1,o.diffs.push(new _.Diff(h,v)),v==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(v.length))}f=this.diff_text2(o.diffs),f=f.substring(f.length-this.Patch_Margin);var c=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);c!==""&&(o.length1+=c.length,o.length2+=c.length,o.diffs.length!==0&&o.diffs[o.diffs.length-1][0]===k?o.diffs[o.diffs.length-1][1]+=c:o.diffs.push(new _.Diff(k,c))),u||e.splice(++n,0,o)}}},_.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},_.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split(`
`),a=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<n.length;){var i=n[a].match(l);if(!i)throw new Error("Invalid patch string: "+n[a]);var f=new _.patch_obj;for(t.push(f),f.start1=parseInt(i[1],10),i[2]===""?(f.start1--,f.length1=1):i[2]=="0"?f.length1=0:(f.start1--,f.length1=parseInt(i[2],10)),f.start2=parseInt(i[3],10),i[4]===""?(f.start2--,f.length2=1):i[4]=="0"?f.length2=0:(f.start2--,f.length2=parseInt(i[4],10)),a++;a<n.length;){var o=n[a].charAt(0);try{var u=decodeURI(n[a].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+u)}if(o=="-")f.diffs.push(new _.Diff(b,u));else if(o=="+")f.diffs.push(new _.Diff(C,u));else if(o==" ")f.diffs.push(new _.Diff(k,u));else{if(o=="@")break;if(o!=="")throw new Error('Invalid patch mode "'+o+'" in: '+u)}a++}}return t},_.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},_.patch_obj.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1==1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2==1?t=this.start2+1:t=this.start2+1+","+this.length2;for(var n=["@@ -"+e+" +"+t+` @@
`],a,l=0;l<this.diffs.length;l++){switch(this.diffs[l][0]){case C:a="+";break;case b:a="-";break;case k:a=" ";break}n[l+1]=a+encodeURI(this.diffs[l][1])+`
`}return n.join("").replace(/%20/g," ")},A.exports=_,A.exports.diff_match_patch=_,A.exports.DIFF_DELETE=b,A.exports.DIFF_INSERT=C,A.exports.DIFF_EQUAL=k})(pe)),pe.exports}var Cr=Sr();const Dr=Ke(Cr);var Ze={exports:{}},qe;function Tr(){return qe||(qe=1,(function(A,_){(function(b){b(ee())})(function(b){b.defineSimpleMode=function(o,u){b.defineMode(o,function(h){return b.simpleMode(h,u)})},b.simpleMode=function(o,u){C(u,"start");var h={},v=u.meta||{},c=!1;for(var w in u)if(w!=v&&u.hasOwnProperty(w))for(var S=h[w]=[],D=u[w],F=0;F<D.length;F++){var E=D[F];S.push(new t(E,u)),(E.indent||E.dedent)&&(c=!0)}var I={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:c?[]:null}},copyState:function(L){var R={state:L.state,pending:L.pending,local:L.local,localState:null,indent:L.indent&&L.indent.slice(0)};L.localState&&(R.localState=b.copyState(L.local.mode,L.localState)),L.stack&&(R.stack=L.stack.slice(0));for(var H=L.persistentStates;H;H=H.next)R.persistentStates={mode:H.mode,spec:H.spec,state:H.state==L.localState?R.localState:b.copyState(H.mode,H.state),next:R.persistentStates};return R},token:n(h,o),innerMode:function(L){return L.local&&{mode:L.local.mode,state:L.localState}},indent:f(h,v)};if(v)for(var O in v)v.hasOwnProperty(O)&&(I[O]=v[O]);return I};function C(o,u){if(!o.hasOwnProperty(u))throw new Error("Undefined state "+u+" in simple mode")}function k(o,u){if(!o)return/(?:)/;var h="";return o instanceof RegExp?(o.ignoreCase&&(h="i"),o.unicode&&(h+="u"),o=o.source):o=String(o),new RegExp((u===!1?"":"^")+"(?:"+o+")",h)}function e(o){if(!o)return null;if(o.apply)return o;if(typeof o=="string")return o.replace(/\./g," ");for(var u=[],h=0;h<o.length;h++)u.push(o[h]&&o[h].replace(/\./g," "));return u}function t(o,u){(o.next||o.push)&&C(u,o.next||o.push),this.regex=k(o.regex),this.token=e(o.token),this.data=o}function n(o,u){return function(h,v){if(v.pending){var c=v.pending.shift();return v.pending.length==0&&(v.pending=null),h.pos+=c.text.length,c.token}if(v.local)if(v.local.end&&h.match(v.local.end)){var w=v.local.endToken||null;return v.local=v.localState=null,w}else{var w=v.local.mode.token(h,v.localState),S;return v.local.endScan&&(S=v.local.endScan.exec(h.current()))&&(h.pos=h.start+S.index),w}for(var D=o[v.state],F=0;F<D.length;F++){var E=D[F],I=(!E.data.sol||h.sol())&&h.match(E.regex);if(I){E.data.next?v.state=E.data.next:E.data.push?((v.stack||(v.stack=[])).push(v.state),v.state=E.data.push):E.data.pop&&v.stack&&v.stack.length&&(v.state=v.stack.pop()),E.data.mode&&l(u,v,E.data.mode,E.token),E.data.indent&&v.indent.push(h.indentation()+u.indentUnit),E.data.dedent&&v.indent.pop();var O=E.token;if(O&&O.apply&&(O=O(I)),I.length>2&&E.token&&typeof E.token!="string"){for(var L=2;L<I.length;L++)I[L]&&(v.pending||(v.pending=[])).push({text:I[L],token:E.token[L-1]});return h.backUp(I[0].length-(I[1]?I[1].length:0)),O[0]}else return O&&O.join?O[0]:O}}return h.next(),null}}function a(o,u){if(o===u)return!0;if(!o||typeof o!="object"||!u||typeof u!="object")return!1;var h=0;for(var v in o)if(o.hasOwnProperty(v)){if(!u.hasOwnProperty(v)||!a(o[v],u[v]))return!1;h++}for(var v in u)u.hasOwnProperty(v)&&h--;return h==0}function l(o,u,h,v){var c;if(h.persistent)for(var w=u.persistentStates;w&&!c;w=w.next)(h.spec?a(h.spec,w.spec):h.mode==w.mode)&&(c=w);var S=c?c.mode:h.mode||b.getMode(o,h.spec),D=c?c.state:b.startState(S);h.persistent&&!c&&(u.persistentStates={mode:S,spec:h.spec,state:D,next:u.persistentStates}),u.localState=D,u.local={mode:S,end:h.end&&k(h.end),endScan:h.end&&h.forceEnd!==!1&&k(h.end,!1),endToken:v&&v.join?v[v.length-1]:v}}function i(o,u){for(var h=0;h<u.length;h++)if(u[h]===o)return!0}function f(o,u){return function(h,v,c){if(h.local&&h.local.mode.indent)return h.local.mode.indent(h.localState,v,c);if(h.indent==null||h.local||u.dontIndentStates&&i(h.state,u.dontIndentStates)>-1)return b.Pass;var w=h.indent.length-1,S=o[h.state];e:for(;;){for(var D=0;D<S.length;D++){var F=S[D];if(F.data.dedent&&F.data.dedentIfLineStart!==!1){var E=F.regex.exec(v);if(E&&E[0]){w--,(F.next||F.push)&&(S=o[F.next||F.push]),v=v.slice(E[0].length);continue e}}}break}return w<0?0:h.indent[w]}}})})()),Ze.exports}Tr();!window.CodeMirror&&(window.CodeMirror=Ye);const le=window.CodeMirror||Ye,Mr=ge({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:A=>A,"update:cminstance":A=>A},setup(A,{emit:_}){const b=J(),C=J(null),k=()=>{C.value=_e(le.fromTextArea(b.value,A.options)),_("update:cminstance",C.value);const e=re(()=>A.cminstance,t=>{var n;t&&((n=A.cminstance)==null||n.setValue(A.value||A.content)),_("ready",q(C)),e?.()},{deep:!0})};return we(()=>{k()}),{textarea:b,initialize:k}}}),ke=(A,_)=>{const b=A.__vccOpts||A;for(const[C,k]of _)b[C]=k;return b},Ar=["name","placeholder"];function Fr(A,_,b,C,k,e){return ae(),he("textarea",{ref:"textarea",name:A.$props.name,placeholder:A.$props.placeholder},null,8,Ar)}const Je=ke(Mr,[["render",Fr]]);window.diff_match_patch=Dr;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const Er=ge({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(A,{emit:_}){const b=J(),C=J(),k=()=>{b.value=_e(le.MergeView(C.value,A.options)),_("update:cminstance",b.value),_("ready",b)};return we(()=>{k()}),{mergeView:C,initialize:k}}}),Lr={ref:"mergeView"};function Or(A,_,b,C,k,e){return ae(),he("div",Lr,null,512)}const Ir=ke(Er,[["render",Or]]);function Pr(A){const _=/#link#(.+)#link#/g,b=[];let C;for(C=_.exec(A);C;){const k=document.createElement("a"),e=JSON.parse(C[1]),t=Object.entries(e);for(const[n,a]of t)k.setAttribute(n,a);k.className="editor_custom_link",k.innerHTML="logDownload",b.push({start:C.index,end:C.index+C[0].length,node:k}),C=_.exec(A)}return b}function Br(A){const _=[];function b(){const C=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let k;for(k=C.exec(A);k;){const e=k[0].replace(/\r\n/g,`
`).split(`
`),t=k[2].replace(/\r\n/g,`
`).split(`
`),n=document.createElement("span"),a=k[1];n.className=`c-editor--log__${a}`;let l=0;for(let i=0;i<e.length;i++){const f=e[i],o=t[i],u=n.cloneNode(!1);u.innerText=o,_.push({start:k.index+l,end:k.index+l+f.length,node:u}),l=l+f.length+1}k=C.exec(A)}}return b(),_}const ue=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];le.defineSimpleMode("fclog",{start:[...ue,{regex:/.*/,token:"hr"}],error:[...ue,{regex:/.*/,token:"error.strong"}],info:[...ue,{regex:/.*/,token:"bracket"}],warning:[...ue,{regex:/.*\[/,token:"comment"}]});le.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const Nr=ge({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(A,{emit:_}){const b=J(),C=J(null),k=(t=A.cminstance)=>{t.getAllMarks().forEach(l=>l.clear());const n=t.getValue(),a=[].concat(Pr(n)).concat(Br(n));for(let l=0;l<a.length;l++){const i=a[l];t.markText(t.posFromIndex(i.start),t.posFromIndex(i.end),{replacedWith:i.node})}},e=()=>{var t;C.value=_e(le.fromTextArea(b.value,A.options)),_("update:cminstance",q(C)),(t=C.value)==null||t.on("change",k)};return re(()=>A.cminstance,t=>{var n;t&&(k(A.cminstance),(n=A.cminstance)==null||n.setValue(A.value),_("ready",C))},{deep:!0,immediate:!0}),we(()=>{e()}),{initialize:e,textarea:b}}}),Rr=["name","placeholder"];function Vr(A,_,b,C,k,e){return ae(),he("textarea",{ref:"textarea",name:A.$props.name,placeholder:A.$props.placeholder},null,8,Rr)}const Ur=ke(Nr,[["render",Vr]]),xe={"update:value":()=>!0,change:(A,_)=>({value:A,cm:_}),input:()=>!0,ready:A=>A},Hr=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],Wr=()=>{const A={};return Hr.forEach(_=>{A[_]=(...b)=>b}),A},zr={...xe,...Wr()},me={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2,styleActiveLine:!0};function Gr(A){Promise.resolve().then(()=>{const _=A.getScrollInfo();A.scrollTo(_.left,_.height)})}const $r=({props:A,cminstance:_,emit:b,internalInstance:C,content:k})=>{const e=be(()=>{var n;return A.merge?(n=q(_))==null?void 0:n.editor():q(_)}),t=()=>{const n=[];return Object.keys(C?.vnode.props).forEach(a=>{if(a.startsWith("on")){const l=a.replace(a[2],a[2].toLowerCase()).slice(2);!xe[l]&&n.push(l)}}),n};return{listenerEvents:()=>{e.value.on("change",a=>{const l=a.getValue();l===k.value&&l!==""||(k.value=l,b("update:value",k.value||""),b("input",k.value||" "),Promise.resolve().then(()=>{b("change",k.value,a)}),A.keepCursorInEnd&&Gr(a))});const n={};t().filter(a=>!n[a]&&(n[a]=!0)).forEach(a=>{e.value.on(a,(...l)=>{b(a,...l)})})}}};function jr({props:A,cminstance:_,presetRef:b}){const C=J("100%"),k=J("100%"),e=be(()=>{var o;return A.merge?(o=q(_))==null?void 0:o.editor():q(_)}),t=()=>{mr(()=>{var o;(o=e.value)==null||o.refresh()})},n=o=>o?!(o&&isNaN(+o)):!1,a=(o=A.width,u=A.height)=>{var h;let v="100%",c="100%";n(o)?v=`${String(o)}px`:o&&(v=o),n(u)?c=`${String(u)}px`:u&&(c=u),C.value=v,k.value=c,console.log("resize",v,c),(h=e.value)==null||h.setSize("100%","100%")},l=()=>{var o;const u=(o=e.value)==null?void 0:o.getWrapperElement();u?.remove()},i=()=>{var o,u,h;const v=(o=e.value)==null?void 0:o.getDoc().getHistory();(u=b.value)==null||u.initialize(),l(),(h=e.value)==null||h.getDoc().setHistory(v)},f=()=>{const o=document.querySelector(".CodeMirror-gutters");return o?.style.left.replace("px","")!=="0"};return{reload:i,refresh:t,resize:a,destroy:l,containerWidth:C,containerHeight:k,reviseStyle:()=>{if(t(),!f())return;const o=setInterval(()=>{f()?t():clearInterval(o)},60),u=setTimeout(()=>{clearInterval(o),clearTimeout(u)},400)}}}const Kr=ge({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>me},globalOptions:{type:Object,default:()=>me},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:zr,setup(A,{expose:_,emit:b}){var C,k,e;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(P){if(P==null)throw new TypeError("Cannot convert undefined or null to object");const N=Object(P);for(let U=1;U<arguments.length;U++){const $=arguments[U];if($!=null)for(const Y in $)Object.prototype.hasOwnProperty.call($,Y)&&(N[Y]=$[Y])}return N},writable:!0,configurable:!0});const t=A,n=b,a=J(null),l=J(""),i=fr(Je),f=J({foldGutter:!0,...me,...t.globalOptions,...t.options,gutters:[...new Set(["CodeMirror-linenumbers","CodeMirror-foldgutter",...((C=t.options)==null?void 0:C.gutters)||[]])]}),o=ur(),u=t.name||((e=(k=o?.parent)==null?void 0:k.type)==null?void 0:e.name)||void 0,h=J(null),v=be(()=>{var P;return t.merge?(P=q(a))==null?void 0:P.editor():q(a)}),{refresh:c,resize:w,destroy:S,containerHeight:D,containerWidth:F,reviseStyle:E}=jr({props:t,cminstance:a,presetRef:h}),{listenerEvents:I}=$r({props:t,cminstance:a,emit:n,internalInstance:o,content:l}),O=()=>{t.unseenLines!==void 0&&t.marker!==void 0&&t.unseenLines.forEach(P=>{var N,U;const $=(N=a.value)==null?void 0:N.lineInfo(P);(U=a.value)==null||U.setGutterMarker(P,"breakpoints",$!=null&&$.gutterMarkers?null:t.marker())})},L=P=>{var N,U;const $=(N=a.value)==null?void 0:N.getValue();P!==$&&((U=a.value)==null||U.setValue(P),l.value=P,E()),O()},R=()=>{I(),O(),w(t.width,t.height),n("ready",a.value),re([()=>t.width,()=>t.height],([P,N])=>{w(P,N)},{deep:!0})},H=()=>{if(t.options.mode==="fclog"||t.options.mode==="log"){i.value=Ur;return}if(t.merge){i.value=Ir;return}i.value=Je};return re(()=>t.options,P=>{var N;for(const U in t.options)(N=v.value)==null||N.setOption(U,q(P[U]))},{deep:!0}),re(()=>t.value,P=>{L(P)}),re(()=>t.merge,H,{immediate:!0}),gr(()=>{S()}),_({cminstance:a,resize:w,refresh:c,destroy:S}),(P,N)=>(ae(),he("div",{class:pr(["codemirror-container",{merge:P.$props.merge,bordered:P.$props.border||P.$props.merge&&!t.originalStyle,"original-style":t.originalStyle}]),style:vr({height:q(D),width:q(F)})},[(ae(),hr(dr(i.value),cr({ref_key:"presetRef",ref:h,cminstance:a.value,"onUpdate:cminstance":N[0]||(N[0]=U=>a.value=U),style:{height:"100%"}},{...P.$props,...P.$attrs,options:f.value,name:q(u),content:l.value},{onReady:R}),null,16,["cminstance"]))],6))}});function Qr(A,_){_===void 0&&(_={});var b=_.insertAt;if(!(typeof document>"u")){var C=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.type="text/css",b==="top"&&C.firstChild?C.insertBefore(k,C.firstChild):C.appendChild(k),k.styleSheet?k.styleSheet.cssText=A:k.appendChild(document.createTextNode(A))}}Qr(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 13px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border: 1px solid #aaaaaa;
}

.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
`);export{Kr as VueCodemirror,Kr as default,Pr as getLinkMarks,Br as getLogMark};
