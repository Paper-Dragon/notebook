import{ah as s,ai as e,ar as a,am as n}from"./app-BlH2QEoN.js";const l={};function t(h,i){return n(),e("div",null,i[0]||(i[0]=[a(`<h1 id="nginx-plus的动态模块lua" tabindex="-1"><a class="header-anchor" href="#nginx-plus的动态模块lua"><span>Nginx-Plus的动态模块Lua</span></a></h1><blockquote><p>将Lua联合例程集成到NGINX事件处理模型中，使用由NGINX,Inc。编写和支持的Lua动态模块。</p><p>http://openresty.org</p><p>这个开源 Web 平台主要由章亦春（<a href="http://agentzh.org" target="_blank" rel="noopener noreferrer">agentzh</a>）维护。在 2011 年之前曾由雅虎中国和<a href="http://www.taobao.com" target="_blank" rel="noopener noreferrer">淘宝网</a>赞助，在后来的 2012 ~ 2016 年间主要由美国的 <a href="http://www.cloudflare.com" target="_blank" rel="noopener noreferrer">CloudFlare 公司</a> 提供支持。目前，OpenResty® 主要由 OpenResty 软件基金会和 OpenResty Inc. 公司提供支持。</p><p>2009年，agentzh &amp; chaoslawful一起基于Nginx用C语言开发OpenResty 2011年，agentzh离职专心维护OpenResty 2012-2016年，Cloudflare赞助支持agentzh专心开发OpenResty，快速发展 2016年，锤子科技赞助OpenResty软件基金会（发布会的门票收入100万元）以支持OpenResty开发</p><p>https://blog.csdn.net/shasharoman/article/details/120069206</p></blockquote><h2 id="安装过程" tabindex="-1"><a class="header-anchor" href="#安装过程"><span>安装过程</span></a></h2><h3 id="安装ndk模块" tabindex="-1"><a class="header-anchor" href="#安装ndk模块"><span>安装NDK模块</span></a></h3><blockquote><p>因为Lua依赖于NDK，安装NDK模块</p></blockquote><p>https://docs.nginx.com/nginx/admin-guide/dynamic-modules/ndk/</p><h4 id="installation-instructions" tabindex="-1"><a class="header-anchor" href="#installation-instructions"><span>installation Instructions</span></a></h4><ol><li><p>Install the NDK module.</p><p>For Amazon Linux, CentOS, Oracle Linux, and RHEL:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-plus-module-ndk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>For Debian and Ubuntu:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-plus-module-ndk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>For SLES:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zypper</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-plus-module-ndk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>For Alpine:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-plus-module-ndk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Put the <a href="https://nginx.org/en/docs/ngx_core_module.html#load_module" target="_blank" rel="noopener noreferrer"><code>load_module</code></a> directive in the top‑level (“<code>main</code>”) context of NGINX Plus configuration file, <strong>nginx.conf</strong>:</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">load_module </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">modules/ndk_http_module.so;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Perform additional configuration as required by the <a href="https://github.com/vision5/ngx_devel_kit" target="_blank" rel="noopener noreferrer">module</a>.</p></li><li><p>Reload NGINX Plus to enable the module:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h3 id="nginx安装lua模块" tabindex="-1"><a class="header-anchor" href="#nginx安装lua模块"><span>nginx安装Lua模块</span></a></h3><p>https://docs.nginx.com/nginx/admin-guide/dynamic-modules/lua/</p><ol><li><p>Prior to installing the Lua module, verify that the <a href="https://docs.nginx.com/nginx/admin-guide/dynamic-modules/ndk/" target="_blank" rel="noopener noreferrer">NDK</a> module is already installed.</p></li><li><p>Install the Lua module.</p><p>For Amazon Linux, CentOS, Oracle Linux, and RHEL:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-plus-module-lua</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>For Debian and Ubuntu:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-plus-module-lua</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>For SLES:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zypper</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-plus-module-lua</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>For Alpine:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx-plus-module-lua</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>Put the <a href="https://nginx.org/en/docs/ngx_core_module.html#load_module" target="_blank" rel="noopener noreferrer"><code>load_module</code></a> directives for NDK and Lua modules in the top‑level (“<code>main</code>”) context of NGINX Plus configuration file, <strong>nginx.conf</strong>:</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">load_module </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">modules/ndk_http_module.so;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">load_module </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">modules/ngx_http_lua_module.so;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>Note:</strong> The directives must be in this order.</p></blockquote></li><li><p>Perform additional configuration as required by the <a href="https://github.com/openresty/lua-nginx-module" target="_blank" rel="noopener noreferrer">module</a>.</p></li><li><p>Reload NGINX Plus to enable the module:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h2 id="怎么去使用" tabindex="-1"><a class="header-anchor" href="#怎么去使用"><span>怎么去使用</span></a></h2><ul><li><p><a href="https://github.com/openresty/lua-nginx-module" target="_blank" rel="noopener noreferrer">NGINX Lua Module Reference</a></p></li><li><p>https://github.com/openresty/lua-nginx-module#directives</p></li></ul><h3 id="set-by-lua-block" tabindex="-1"><a class="header-anchor" href="#set-by-lua-block"><span>set_by_lua_block</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>syntax: set_by_lua_block $res { lua-script }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>context: server, server if, location, location if</span></span>
<span class="line"><span></span></span>
<span class="line"><span>phase: rewrite</span></span>
<span class="line"><span></span></span>
<span class="line"><span>执行一对大括号（｛｝）内指定的代码，并将字符串输出返回$res。一对大括号（｛｝）内的代码可以进行API调用，并可以从ngx.arg表中检索输入参数（索引从1开始，按顺序递增）。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>当Nginx事件循环在代码执行期间被阻塞时，该指令被设计为执行短的、快速运行的代码块。因此，应避免使用耗时的代码序列。</span></span>
<span class="line"><span>该指令通过将自定义命令注入标准ngx_http_rewrite_module的命令列表来实现。由于ngx_http_rewrite_module在其命令中不支持非阻塞I/O，因此要求生成当前Lua“轻线程”的Lua API无法在此指令中工作。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>在set_by_lua_block的上下文中，当前至少禁用了以下API函数：</span></span>
<span class="line"><span>输出API函数（例如，ngx.say和ngx.send_headers）</span></span>
<span class="line"><span>控制API函数（例如，ngx.exit）</span></span>
<span class="line"><span>子请求API函数（例如，ngx.location.capture和ngx.location/capture_multi）</span></span>
<span class="line"><span>Cosocket API函数（例如，ngx.socket.tcp和ngx.req.socket）。</span></span>
<span class="line"><span>休眠API函数ngx.sleep。</span></span>
<span class="line"><span>此外，请注意，该指令一次只能将值写入单个Nginx变量。但是，可以使用ngx.var.VARIABLE接口解决问题。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例子</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-nginx"><span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> location</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /foo {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     set </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">diff</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># we have to predefine the $diff variable here</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     set_by_lua_block</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a = 32</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b = 56</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         ngx.var.</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">diff</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = a - b  -- write to $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">diff</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> directly</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">         return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a + b          -- return the $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> value normally</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     echo </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;sum = $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">sum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">, diff = $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">diff</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This directive can be freely mixed with all directives of the <a href="http://nginx.org/en/docs/http/ngx_http_rewrite_module.html" target="_blank" rel="noopener noreferrer">ngx_http_rewrite_module</a>, <a href="http://github.com/openresty/set-misc-nginx-module" target="_blank" rel="noopener noreferrer">set-misc-nginx-module</a>, and <a href="http://github.com/openresty/array-var-nginx-module" target="_blank" rel="noopener noreferrer">array-var-nginx-module</a> modules. All of these directives will run in the same order as they appear in the config file.</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-nginx"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">foo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 32</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set_by_lua_block</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { return tonumber(ngx.var.foo) + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> set </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">$</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">baz</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;bar: $</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># $baz == &quot;bar: 33&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>No special escaping is required in the Lua code block.</p><p>This directive requires the <a href="https://github.com/simplresty/ngx_devel_kit" target="_blank" rel="noopener noreferrer">ngx_devel_kit</a> module.</p><p>This directive was first introduced in the <code>v0.9.17</code> release.</p>`,22)]))}const p=s(l,[["render",t]]),d=JSON.parse('{"path":"/note-book/Nginx-OpenResty/Nginx-Plus%E7%9A%84%E5%8A%A8%E6%80%81%E6%A8%A1%E5%9D%97Lua.html","title":"Nginx-Plus的动态模块Lua","lang":"zh-CN","frontmatter":{"description":"Nginx-Plus的动态模块Lua 将Lua联合例程集成到NGINX事件处理模型中，使用由NGINX,Inc。编写和支持的Lua动态模块。 http://openresty.org 这个开源 Web 平台主要由章亦春（agentzh）维护。在 2011 年之前曾由雅虎中国和淘宝网赞助，在后来的 2012 ~ 2016 年间主要由美国的 CloudFl...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Nginx-Plus的动态模块Lua\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-22T06:21:26.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/Nginx-OpenResty/Nginx-Plus%E7%9A%84%E5%8A%A8%E6%80%81%E6%A8%A1%E5%9D%97Lua.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"Nginx-Plus的动态模块Lua"}],["meta",{"property":"og:description","content":"Nginx-Plus的动态模块Lua 将Lua联合例程集成到NGINX事件处理模型中，使用由NGINX,Inc。编写和支持的Lua动态模块。 http://openresty.org 这个开源 Web 平台主要由章亦春（agentzh）维护。在 2011 年之前曾由雅虎中国和淘宝网赞助，在后来的 2012 ~ 2016 年间主要由美国的 CloudFl..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-22T06:21:26.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-22T06:21:26.000Z"}]]},"git":{"createdTime":1691939318000,"updatedTime":1711088486000,"contributors":[{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":2,"url":"https://github.com/Paper-Dragon"},{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":2,"url":"https://github.com/PaperDragon-SH"}],"changelog":[{"hash":"0f4cec68fba7de6194127198ba537a9a36cf9017","time":1711088486000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"Nginx规范化Markdown"},{"hash":"16fb25c92a173306ab9fbefc5d1dc98da6d7d961","time":1709976583000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"rename"},{"hash":"cddba0ef1a45120da05a0b063970ad18863ba0b8","time":1705981137000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"add OpenResty directory"},{"hash":"392a519398b2e846f316619fbe831e100164de7c","time":1691939318000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Create The Worid!"}]},"readingTime":{"minutes":3.06,"words":917},"filePathRelative":"note-book/Nginx-OpenResty/Nginx-Plus的动态模块Lua.md","excerpt":"\\n<blockquote>\\n<p>将Lua联合例程集成到NGINX事件处理模型中，使用由NGINX,Inc。编写和支持的Lua动态模块。</p>\\n<p>http://openresty.org</p>\\n<p>这个开源 Web 平台主要由章亦春（<a href=\\"http://agentzh.org\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">agentzh</a>）维护。在 2011 年之前曾由雅虎中国和<a href=\\"http://www.taobao.com\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">淘宝网</a>赞助，在后来的 2012 ~ 2016 年间主要由美国的 <a href=\\"http://www.cloudflare.com\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">CloudFlare 公司</a> 提供支持。目前，OpenResty® 主要由 OpenResty 软件基金会和 OpenResty Inc. 公司提供支持。</p>\\n<p>2009年，agentzh &amp; chaoslawful一起基于Nginx用C语言开发OpenResty\\n2011年，agentzh离职专心维护OpenResty\\n2012-2016年，Cloudflare赞助支持agentzh专心开发OpenResty，快速发展\\n2016年，锤子科技赞助OpenResty软件基金会（发布会的门票收入100万元）以支持OpenResty开发</p>\\n<p>https://blog.csdn.net/shasharoman/article/details/120069206</p>\\n</blockquote>","autoDesc":true}');export{p as comp,d as data};
