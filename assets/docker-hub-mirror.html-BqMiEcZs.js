import{ah as k,ai as d,ar as n,ak as r,at as e,al as p,am as c,aj as i,as as a}from"./app-Dgoda-bT.js";const o="/assets/image-20241010100318565-DEc5EPh4.png",g="/assets/image-20241113143138309-CcduyD21.png",b="/assets/bf8a67569ceb26e94afae3612092230b_720-BUYmOXyy.png",m={};function u(A,s){const l=p("CodeTabs");return c(),d("div",null,[s[12]||(s[12]=n('<h1 id="docker镜像拉取加速服务及配置指南" tabindex="-1"><a class="header-anchor" href="#docker镜像拉取加速服务及配置指南"><span>Docker镜像拉取加速服务及配置指南</span></a></h1><blockquote><p>6月6日，<a href="https://mirrors.ustc.edu.cn/help/dockerhub.html" target="_blank" rel="noopener noreferrer">上海交大的 Docker Hub 镜像加速器</a> 宣布因监管要求被下架，Dockerhub 无法访问。<a href="https://web.archive.org/web/20240606081039/https://sjtug.org/post/mirror-news/2024-06-06-takedown-dockerhub/" target="_blank" rel="noopener noreferrer">具体可看此通知</a>。</p><p><img src="'+o+'" alt="image-20241010100318565"></p></blockquote><h2 id="功能简介" tabindex="-1"><a class="header-anchor" href="#功能简介"><span>功能简介</span></a></h2><p>免费学习使用的Docker镜像拉取加速服务，破解Docker官方限制频率等多种应用场景，无限速拉取镜像。</p><p>很多种功能都是独家支持，源码是闭源的，防止被滥用，根据下面教程设置镜像站即可畅快使用。</p><ul><li>拉取Dockerhub的私有仓库的镜像加速</li><li>推送镜像到Dockerhub账户</li><li>一键安装Docker 加速</li><li>公共仓库的镜像加速</li><li>Docker Search命令专项加速</li><li>防火墙和黑名单😢</li></ul><h2 id="docker配置镜像加速" tabindex="-1"><a class="header-anchor" href="#docker配置镜像加速"><span>Docker配置镜像加速</span></a></h2><blockquote><p>Docker镜像加速不同的操作系统有不同的设置方法，需要根据操作系统类型去设置，下面给出了Linux、Windows、Mac操作系统的设置方法。</p><p>为了方便使用，Linux设置镜像站已经写为脚本。</p></blockquote><h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h3><p>配置镜像站</p>',10)),r(l,{data:[{id:"一键配置"},{id:"手动配置"}],"tab-id":"shell"},{title0:e(({value:h,isActive:t})=>[...s[0]||(s[0]=[a("一键配置",-1)])]),title1:e(({value:h,isActive:t})=>[...s[1]||(s[1]=[a("手动配置",-1)])]),tab0:e(({value:h,isActive:t})=>[...s[2]||(s[2]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"curl"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -sSL"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," https://www.geekery.cn/sh/docker/set_docker_mirror.sh"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," | "),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"bash")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])]),tab1:e(({value:h,isActive:t})=>[...s[3]||(s[3]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"#!/bin/sh")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"cat"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," <<-"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"EOF"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," > "),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"/etc/docker/daemon.json"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," ")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"{")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'  "registry-mirrors": [')]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'       "https://hub.icert.top/",')]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},'       "https://ghcr.geekery.cn"')]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"   ]")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"}")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}},"EOF")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"systemctl"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," daemon-reload")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"systemctl"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," docker")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])]),_:1}),s[13]||(s[13]=n(`<p>适用于Ubuntu、Debian、CentOS、Fedora、Arch Linux、openSUSE 等系统。</p><p>其他版本可能有细微不同，请访问官方文档获取更多详情。</p><h3 id="macos" tabindex="-1"><a class="header-anchor" href="#macos"><span>MacOS</span></a></h3><blockquote><p>评论区帮忙补个MacOS配置图😘</p></blockquote><p>对于MacOS上的Docker For Mac用户，您可以通过以下步骤配置镜像加速服务：</p><p>点击桌面顶栏的docker图标，选择Preferences。</p><p>在Daemon标签下的Registry mirrors列表中加入以下镜像地址：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">https:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//hub.icert.top/</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">https:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//ghcr.geekery.cn/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>点击Apply &amp; Restart按钮使设置生效。</p><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h3><p>Windows系统上的Docker For Windows用户可以按照以下步骤配置镜像加速服务：</p><p>在桌面右下角状态栏中右键docker图标，修改在Docker Engine标签页中的json。</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;builder&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;gc&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;defaultKeepStorage&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;20GB&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      &quot;enabled&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#D19A66;">true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;experimental&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#0184BC;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;registry-mirrors&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   &quot;https://hub.icert.top/&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   &quot;https://ghcr.geekery.cn&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+g+'" alt="image-20241113143138309"></p><p>点击Apply&amp;restart，使配置生效。</p><h2 id="一键安装docker" tabindex="-1"><a class="header-anchor" href="#一键安装docker"><span>一键安装Docker</span></a></h2><blockquote><p>这个脚本适用于Linux</p><p>一键安装脚本，为了防止脚本卡住，于是我做了完整的镜像，包括安装包仓库。默认使用 <code>https://download-docker.geekery.cn</code> 为镜像站</p></blockquote>',17)),r(l,{data:[{id:"使用本站下载"},{id:"Azure China"},{id:"阿里云镜像站"},{id:"自定义镜像站"}],active:3},{title0:e(({value:h,isActive:t})=>[...s[4]||(s[4]=[a("使用本站下载",-1)])]),title1:e(({value:h,isActive:t})=>[...s[5]||(s[5]=[a("Azure China",-1)])]),title2:e(({value:h,isActive:t})=>[...s[6]||(s[6]=[a("阿里云镜像站",-1)])]),title3:e(({value:h,isActive:t})=>[...s[7]||(s[7]=[a("自定义镜像站",-1)])]),tab0:e(({value:h,isActive:t})=>[...s[8]||(s[8]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"curl"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -sSL"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," get-docker.geekery.cn"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," | "),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"bash")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])]),tab1:e(({value:h,isActive:t})=>[...s[9]||(s[9]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"curl"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -sSL"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," https://get-docker.geekery.cn"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," | "),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"bash"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --mirror"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," AzureChinaCloud")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])]),tab2:e(({value:h,isActive:t})=>[...s[10]||(s[10]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"curl"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -sSL"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," https://get-docker.geekery.cn"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," | "),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"bash"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -s"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," --mirror"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," Aliyun")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])]),tab3:e(({value:h,isActive:t})=>[...s[11]||(s[11]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",{class:"language-bash"},[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"curl"),i("span",{style:{"--shiki-light":"#986801","--shiki-dark":"#D19A66"}}," -sSL"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," https://get-docker.geekery.cn"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," | "),i("span",{style:{"--shiki-light":"#E45649","--shiki-dark":"#E06C75"}},"DOWNLOAD_URL"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#56B6C2"}},"="),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}},"https://mirrors.ustc.edu.cn/docker-ce"),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}}," bash")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])]),_:1}),s[14]||(s[14]=n('<h2 id="通过镜像站拉取dockerhub私有账户的镜像" tabindex="-1"><a class="header-anchor" href="#通过镜像站拉取dockerhub私有账户的镜像"><span>通过镜像站拉取DockerHub私有账户的镜像</span></a></h2><h3 id="登录到镜像站" tabindex="-1"><a class="header-anchor" href="#登录到镜像站"><span>登录到镜像站</span></a></h3><p>首先，你需要登陆到镜像站。如果还没有登录，可以使用以下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> login</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后，系统会提示你输入用户名和密码，输入你的dockerhub用户名密码即可登录。</p><h3 id="拉取私有镜像" tabindex="-1"><a class="header-anchor" href="#拉取私有镜像"><span>拉取私有镜像</span></a></h3><p>成功登录后，就可以从私有仓库中拉取镜像。使用<code>docker pull</code>命令加上仓库的完整URL以及镜像的名称和标签（如果有的话）。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里 <code>&lt;namespace&gt;</code> 可以是用户名或组织名，<code>&lt;imagename&gt;</code> 是镜像的名字，<code>&lt;tag&gt;</code> 是镜像的版本标签。</p><h3 id="恢复默认镜像名" tabindex="-1"><a class="header-anchor" href="#恢复默认镜像名"><span>恢复默认镜像名</span></a></h3><p>如果你想要如同DockerHub镜像一般直接不写域名直接跑，方便后面环境的使用，可以增加如下步骤恢复原有的镜像名称。</p><p>执行下面的命令将会更改Docker镜像的镜像站为Dockerhub，方便使用。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里 <code>&lt;namespace&gt;</code> 可以是用户名或组织名，<code>&lt;imagename&gt;</code> 是镜像的名字，<code>&lt;tag&gt;</code> 是镜像的版本标签。</p><h2 id="通过镜像站推送镜像到dockerhub" tabindex="-1"><a class="header-anchor" href="#通过镜像站推送镜像到dockerhub"><span>通过镜像站推送镜像到DockerHub</span></a></h2><h3 id="登录镜像站" tabindex="-1"><a class="header-anchor" href="#登录镜像站"><span>登录镜像站</span></a></h3><p>首先，你需要登陆到镜像站。如果还没有登录，可以使用以下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> login</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后，系统会提示你输入用户名和密码，输入你的dockerhub用户名密码即可登录。</p><h3 id="更改镜像标记" tabindex="-1"><a class="header-anchor" href="#更改镜像标记"><span>更改镜像标记</span></a></h3><p>你需要tag镜像设置被推送到镜像仓库。使用以下格式的命令来标记镜像：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">local-image-nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">local-ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">hub.icert.top/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>例如，如果你有一个名为 <code>myimage</code> 的本地镜像，并且你想将其推送到 <code>hub.icert.top</code> 上的 <code>myuser</code> 名下的 <code>myrepo</code> 仓库，使用如下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myimage:latest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top/myuser/myrepo:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="推送镜像" tabindex="-1"><a class="header-anchor" href="#推送镜像"><span>推送镜像</span></a></h3><p>使用 <code>docker push</code> 命令将其推送到私有仓库：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top/myuser/myrepo:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这会把标记过的镜像推送到你的私有仓库，然后回到dockerhub检查，镜像已经推送到dockerhub当中去了。</p><h2 id="docker-search命令加速" tabindex="-1"><a class="header-anchor" href="#docker-search命令加速"><span>Docker search命令加速</span></a></h2><p>近期看到有人用docker search，但是配置了镜像站仍然无法加速搜索。所以我这里新增了Docker hub的search加速。</p><p>使用如下方式进行搜索</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> search</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">search</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> imag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>例如</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> search</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.icert.top/nginx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+b+'" alt="bf8a67569ceb26e94afae3612092230b_720"></p><h2 id="黑名单" tabindex="-1"><a class="header-anchor" href="#黑名单"><span>黑名单</span></a></h2><p>本站建立的初衷是用于个人学习使用，方便自己也方便别人，近期发现有人滥用，我加功能的时候也写了个防火墙。</p><p>有源地址每天请求几万次，经过日志审计我认为是在生产的集群上使用了本加速镜像。我这边的自动程序处理方法是将你的源ip地址自动添加进黑名单，生产使用请联系我捐助解除禁止。</p><p>使用本镜像站同步镜像站的滥用行为，请求源ip地址将会被加进黑名单。</p><h2 id="你用的节点在哪里" tabindex="-1"><a class="header-anchor" href="#你用的节点在哪里"><span>你用的节点在哪里？</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><div id="mobaxterm"><iframe style="height:800px;" src="https://cloudflare-cloudnative-pages.geekery.cn/docker"></iframe></div></div>',43))])}const F=k(m,[["render",u]]),B=JSON.parse('{"path":"/free-service/docker-hub-mirror.html","title":"DockerHub镜像加速","lang":"zh-CN","frontmatter":{"title":"DockerHub镜像加速","icon":"grommet-icons:docker","breadcrumb":false,"description":"Docker镜像拉取加速服务及配置指南 6月6日，上海交大的 Docker Hub 镜像加速器 宣布因监管要求被下架，Dockerhub 无法访问。具体可看此通知。 image-20241010100318565 功能简介 免费学习使用的Docker镜像拉取加速服务，破解Docker官方限制频率等多种应用场景，无限速拉取镜像。 很多种功能都是独家支持，...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"DockerHub镜像加速\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-04-19T06:16:02.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/free-service/docker-hub-mirror.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"DockerHub镜像加速"}],["meta",{"property":"og:description","content":"Docker镜像拉取加速服务及配置指南 6月6日，上海交大的 Docker Hub 镜像加速器 宣布因监管要求被下架，Dockerhub 无法访问。具体可看此通知。 image-20241010100318565 功能简介 免费学习使用的Docker镜像拉取加速服务，破解Docker官方限制频率等多种应用场景，无限速拉取镜像。 很多种功能都是独家支持，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-19T06:16:02.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-19T06:16:02.000Z"}]]},"git":{"createdTime":1707206102000,"updatedTime":1745043362000,"contributors":[{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":8,"url":"https://github.com/PaperDragon-SH"},{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":9,"url":"https://github.com/Paper-Dragon"},{"name":"PaperDragon","username":"PaperDragon","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon"}],"changelog":[{"hash":"f07b24e1f3b68c2db155398861853eb1e2c0f786","time":1745043362000,"email":"2678885646@qq.com","author":"PaperDragon","message":"清理死链"},{"hash":"acc20ecd1bcdb70acdb85ab952a0db582179691b","time":1744337611000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Firefox密码提取"},{"hash":"081468780aa520400d26727b845a6846742a29b1","time":1735538930000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"fixed domain hub.icert.top"},{"hash":"aef96a94af0024b9a64fa07da1951dd884d33105","time":1734152955000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"feat: codetabs,vue-generatepassword"},{"hash":"79d58d2b9864ac986e926387a97e9666f159259c","time":1734105836000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"new icons theme iconify"},{"hash":"86624670eefa25ae4efdc4de9794bcb0d8d09097","time":1732860382000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"add docSearch"},{"hash":"a3b6cbc93399ecd5e5d10fa6250cd863ae7dd350","time":1731479738000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"add <code>docker search</code> command mirror"},{"hash":"65dfa1f40bbaba1e566ff68354057ea452491c63","time":1728525935000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"docker mirror add image"},{"hash":"3071837bacc68111a2ee7e861f8701e3c72c9256","time":1721925178000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"fixed documents subtitle link error"},{"hash":"93a0a2be76570df3d9a0dda66f092c147b0dc320","time":1721887008000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"fixed bug"},{"hash":"6c36412e4db014a1b561113954135a8e8565ce2e","time":1721567562000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Docker镜像站增加实时推送功能"},{"hash":"711885eec7de545edbbaabe4431491a2ed21e7e5","time":1720838771000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"优化Docker镜像站的说名"},{"hash":"6f6bcef0148ee798582e21f67b2f4c800d4ae2a0","time":1718506391000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"fixed DockerHub 域名错误"},{"hash":"a03c41279a9fdc14a8212c359ef3eca464580928","time":1718380423000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"新增 get.docker.ocm download.docker.com镜像站"},{"hash":"2e37a92fd92d0635ea0d957198d30155d769bf92","time":1711869319000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"add radeon mirror"},{"hash":"7aad31eb215556865d95c2d87c2465d5ecfb3832","time":1708492851000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"add github direct service"},{"hash":"72d759789836f064c34d4a5dc13aea4288adc2c6","time":1707209098000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"modify title and dir"},{"hash":"c641d88fafe15e8dedb62b24df59a80b4a25ad37","time":1707206102000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"add warp,docker mirror free service"}]},"readingTime":{"minutes":4.82,"words":1446},"filePathRelative":"free-service/docker-hub-mirror.md","excerpt":"\\n<blockquote>\\n<p>6月6日，<a href=\\"https://mirrors.ustc.edu.cn/help/dockerhub.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">上海交大的 Docker Hub 镜像加速器</a> 宣布因监管要求被下架，Dockerhub 无法访问。<a href=\\"https://web.archive.org/web/20240606081039/https://sjtug.org/post/mirror-news/2024-06-06-takedown-dockerhub/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">具体可看此通知</a>。</p>\\n<p></p>\\n</blockquote>","autoDesc":true}');export{F as comp,B as data};
