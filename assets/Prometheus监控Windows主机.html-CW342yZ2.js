import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{aj as s,ao as i,am as n}from"./app-DCr7N1U1.js";const o="/assets/1095387-20200702144144218-1510180891-C8wiQ0T1.png",r="/assets/1095387-20200702144354238-115206460-s6mgxc9m.png",a="/assets/1095387-20200702144524006-1506216148-B3bcy7m6.png",p="/assets/1095387-20200702144739664-1804553367-DEzOT56l.png",m="/assets/1095387-20200702144937143-1265960970-BvM9TGNH.png",c="/assets/1095387-20200702145241222-1099637665-BBm6IKV_.png",g="/assets/1095387-20200702145259588-415488905-uI2OEDeq.png",d={};function l(u,e){return n(),s("div",null,e[0]||(e[0]=[i('<h1 id="prometheus监控windows主机" tabindex="-1"><a class="header-anchor" href="#prometheus监控windows主机"><span>[Prometheus监控Windows主机]</span></a></h1><p><strong>1. 基本说明</strong></p><p>使用Prometheus监控Windows主机和Linux主机并无太大区别，都是使用社区的Exporter进行采集数据，之后暴露一个接口，可以让Prometheus采集到主机的数据。</p><p>其中监控Linux的Exporter是：https://github.com/prometheus/node_exporter</p><p>监控Windows主机的Exporter是：https://github.com/prometheus-community/windows_exporter</p><p><strong>2. 安装Windows Exporter</strong></p><p>无论是监控Linux还是Windows，对应的exporter都提供了二进制文件和msi文件，Windows可以直接下载最新的msi文件，然后安装到对应的Windows主机上即可。</p><p>MSI文件下载地址：https://github.com/prometheus-community/windows_exporter/releases</p><p>下载对应的msi即可：</p><figure><img src="'+o+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>下载完成后，双击打开即可完成安装：</p><figure><img src="'+r+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>之后可以在任务管理器上看到对应的进程：</p><figure><img src="'+a+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>测试是否有数据产生，默认的端口为9182，path为metrics：</p><figure><img src="'+p+`" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><strong>3. 配置Prometheus采集数据</strong></p><p>在Prometheus的配置文件中添加如下配置：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>- job_name: &#39;WindowsServerMonitor&#39;</span></span>
<span class="line"><span>  static_configs:</span></span>
<span class="line"><span>    - targets:</span></span>
<span class="line"><span>      - &quot;10.101.3.3:9182&quot;</span></span>
<span class="line"><span>      labels:</span></span>
<span class="line"><span>        server_type: &#39;windows&#39;</span></span>
<span class="line"><span>  relabel_configs:</span></span>
<span class="line"><span>    - source_labels: [__address__]</span></span>
<span class="line"><span>      target_label: instance</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>检查Prometheus是否有数据产生：</p><figure><img src="`+m+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><strong>4. 配置Grafana展示数据</strong></p><p>下载模板：https://grafana.com/grafana/dashboards/12566</p><p>数据展示如下：</p><figure><img src="'+c+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+g+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p></p>',27)]))}const f=t(d,[["render",l],["__file","Prometheus监控Windows主机.html.vue"]]),b=JSON.parse('{"path":"/note-book/Prometheus/Prometheus%E7%9B%91%E6%8E%A7Windows%E4%B8%BB%E6%9C%BA.html","title":"[Prometheus监控Windows主机]","lang":"zh-CN","frontmatter":{"description":"[Prometheus监控Windows主机] 1. 基本说明 使用Prometheus监控Windows主机和Linux主机并无太大区别，都是使用社区的Exporter进行采集数据，之后暴露一个接口，可以让Prometheus采集到主机的数据。 其中监控Linux的Exporter是：https://github.com/prometheus/nod...","head":[["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/Prometheus/Prometheus%E7%9B%91%E6%8E%A7Windows%E4%B8%BB%E6%9C%BA.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"[Prometheus监控Windows主机]"}],["meta",{"property":"og:description","content":"[Prometheus监控Windows主机] 1. 基本说明 使用Prometheus监控Windows主机和Linux主机并无太大区别，都是使用社区的Exporter进行采集数据，之后暴露一个接口，可以让Prometheus采集到主机的数据。 其中监控Linux的Exporter是：https://github.com/prometheus/nod..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-08-13T15:08:38.000Z"}],["meta",{"property":"article:modified_time","content":"2023-08-13T15:08:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"[Prometheus监控Windows主机]\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-08-13T15:08:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"PaperDragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"]]},"headers":[],"git":{"createdTime":1691939318000,"updatedTime":1691939318000,"contributors":[{"name":"PaperDragon","email":"2678885646@qq.com","commits":1}]},"readingTime":{"minutes":1.16,"words":348},"filePathRelative":"note-book/Prometheus/Prometheus监控Windows主机.md","localizedDate":"2023年8月13日","excerpt":"\\n<p><strong>1. 基本说明</strong></p>\\n<p>使用Prometheus监控Windows主机和Linux主机并无太大区别，都是使用社区的Exporter进行采集数据，之后暴露一个接口，可以让Prometheus采集到主机的数据。</p>\\n<p>其中监控Linux的Exporter是：https://github.com/prometheus/node_exporter</p>\\n<p>监控Windows主机的Exporter是：https://github.com/prometheus-community/windows_exporter</p>\\n<p><strong>2. 安装Windows Exporter</strong></p>","autoDesc":true}');export{f as comp,b as data};
