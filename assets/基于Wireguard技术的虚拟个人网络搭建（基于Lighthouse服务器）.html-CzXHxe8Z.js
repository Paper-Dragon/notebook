import{aq as a,ar as i,aw as e,av as n}from"./app-BF7huAu6.js";const l={};function r(d,s){return n(),i("div",null,s[0]||(s[0]=[e(`<h1 id="åŸºäºwireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»º-åŸºäºlighthouseæœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#åŸºäºwireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»º-åŸºäºlighthouseæœåŠ¡å™¨"><span>åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»ºï¼ˆåŸºäºLighthouseæœåŠ¡å™¨ï¼‰</span></a></h1><h2 id="æœåŠ¡ç«¯å®‰è£…-å¼ºçƒˆæ¨è-docker-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡ç«¯å®‰è£…-å¼ºçƒˆæ¨è-docker-å®‰è£…"><span>æœåŠ¡ç«¯å®‰è£… ï¼ˆå¼ºçƒˆæ¨è docker å®‰è£…ï¼‰</span></a></h2><h2 id="dockerå®‰è£…wireguard-æ›´ç®€å•æ›´æ–¹ä¾¿" tabindex="-1"><a class="header-anchor" href="#dockerå®‰è£…wireguard-æ›´ç®€å•æ›´æ–¹ä¾¿"><span>Dockerå®‰è£…Wireguard (æ›´ç®€å•æ›´æ–¹ä¾¿)</span></a></h2><h3 id="é€šè¿‡å®¹å™¨å®‰è£…wg-easy" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡å®¹å™¨å®‰è£…wg-easy"><span>é€šè¿‡å®¹å™¨å®‰è£…wg-easy</span></a></h3><p>æ‹¬å·é‡Œé¢çš„çš„æ˜¯ä½ éœ€è¦ä¿®æ”¹çš„ï¼Œä¿®æ”¹å®Œåˆ æ‰å°±å¯ä»¥äº†</p><h4 id="å…³äºcentos-7-æ¨¡å—å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å…³äºcentos-7-æ¨¡å—å®‰è£…"><span>å…³äºCentOS 7 æ¨¡å—å®‰è£…</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> epel-release</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> elrepo-release</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum-plugin-elrepo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> kmod-wireguard</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wireguard-tools</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker run -d \\</span></span>
<span class="line"><span>  --name=wg-easy \\</span></span>
<span class="line"><span>  -e WG_HOST=123.123.123.123 (ğŸš¨è¿™é‡Œè¾“å…¥æœåŠ¡å™¨çš„å…¬ç½‘IP) \\</span></span>
<span class="line"><span>  -e PASSWORD=passwd123 (ğŸš¨è¿™é‡Œè¾“å…¥ä½ çš„å¯†ç ) \\</span></span>
<span class="line"><span>  -e WG_DEFAULT_ADDRESS=10.0.8.x ï¼ˆğŸš¨é»˜è®¤IPåœ°å€ï¼‰\\</span></span>
<span class="line"><span>  -e WG_DEFAULT_DNS=114.114.114.114 ï¼ˆğŸš¨é»˜è®¤DNSï¼‰\\</span></span>
<span class="line"><span>  -e WG_ALLOWED_IPS=10.0.8.0/24 ï¼ˆğŸš¨å…è®¸è¿æ¥çš„IPæ®µï¼‰\\</span></span>
<span class="line"><span>  -e WG_PERSISTENT_KEEPALIVE=25 ï¼ˆğŸš¨é‡è¿é—´éš”ï¼‰\\</span></span>
<span class="line"><span>  -v ~/.wg-easy:/etc/wireguard \\</span></span>
<span class="line"><span>  -p 51820:51820/udp \\</span></span>
<span class="line"><span>  -p 51821:51821/tcp \\</span></span>
<span class="line"><span>  --cap-add=NET_ADMIN \\</span></span>
<span class="line"><span>  --cap-add=SYS_MODULE \\</span></span>
<span class="line"><span>  --sysctl=&quot;net.ipv4.conf.all.src_valid_mark=1&quot; \\</span></span>
<span class="line"><span>  --sysctl=&quot;net.ipv4.ip_forward=1&quot; \\</span></span>
<span class="line"><span>  --restart unless-stopped \\</span></span>
<span class="line"><span>  weejewel/wg-easy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ›´æ–°å®¹å™¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°å®¹å™¨å‘½ä»¤"><span>æ›´æ–°å®¹å™¨å‘½ä»¤</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>docker stop wg-easy</span></span>
<span class="line"><span>docker rm wg-easy</span></span>
<span class="line"><span>docker pull weejewel/wg-easy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®¢æˆ·ç«¯ä¸‹è½½ä¸é…ç½®" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯ä¸‹è½½ä¸é…ç½®"><span>å®¢æˆ·ç«¯ä¸‹è½½ä¸é…ç½®</span></a></h2><p>å®¢æˆ·ç«¯çš„ä¸‹è½½ï¼ˆéœ€è¦æœ‰ç§‘å­¦ä¸Šç½‘æ¡ä»¶ï¼‰ï¼š<a href="https://www.wireguard.com/install/" target="_blank" rel="noopener noreferrer">Installation - WireGuard</a></p><h2 id="æ‰‹åŠ¨å®‰è£…wireguard" tabindex="-1"><a class="header-anchor" href="#æ‰‹åŠ¨å®‰è£…wireguard"><span>æ‰‹åŠ¨å®‰è£…Wireguard</span></a></h2><h3 id="å®‰è£…wireguard-ä»¥ubuntu-20-04ä¸ºåŸºç¡€" tabindex="-1"><a class="header-anchor" href="#å®‰è£…wireguard-ä»¥ubuntu-20-04ä¸ºåŸºç¡€"><span>å®‰è£…Wireguardï¼ˆä»¥Ubuntu 20.04ä¸ºåŸºç¡€ï¼‰</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#rootæƒé™</span></span>
<span class="line"><span>sudo -i</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#å®‰è£…wireguardè½¯ä»¶</span></span>
<span class="line"><span>apt install wireguard resolvconf -y</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#å¼€å¯IPè½¬å‘</span></span>
<span class="line"><span>echo &quot;net.ipv4.ip_forward = 1&quot; &gt;&gt; /etc/sysctl.conf</span></span>
<span class="line"><span>sysctl -p</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿›å…¥é…ç½®å­˜å‚¨è·¯å¾„-è°ƒæ•´ç›®å½•æƒé™" tabindex="-1"><a class="header-anchor" href="#è¿›å…¥é…ç½®å­˜å‚¨è·¯å¾„-è°ƒæ•´ç›®å½•æƒé™"><span>è¿›å…¥é…ç½®å­˜å‚¨è·¯å¾„ï¼Œè°ƒæ•´ç›®å½•æƒé™</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cd /etc/wireguard/</span></span>
<span class="line"><span>chmod 0777 /etc/wireguard</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#è°ƒæ•´ç›®å½•é»˜è®¤æƒé™</span></span>
<span class="line"><span>umask 077</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”ŸæˆæœåŠ¡å™¨ç§˜é’¥" tabindex="-1"><a class="header-anchor" href="#ç”ŸæˆæœåŠ¡å™¨ç§˜é’¥"><span>ç”ŸæˆæœåŠ¡å™¨ç§˜é’¥</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#ç”Ÿæˆç§é’¥</span></span>
<span class="line"><span>wg genkey &gt; server.key</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#é€šè¿‡ç§é’¥ç”Ÿæˆå…¬é’¥</span></span>
<span class="line"><span>wg pubkey &lt; server.key &gt; server.key.pub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”Ÿæˆå®¢æˆ·ç«¯-client1-ç§˜é’¥" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæˆå®¢æˆ·ç«¯-client1-ç§˜é’¥"><span>ç”Ÿæˆå®¢æˆ·ç«¯(client1)ç§˜é’¥</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#ç”Ÿæˆç§é’¥</span></span>
<span class="line"><span>wg genkey &gt; client1.key</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#é€šè¿‡ç§é’¥ç”Ÿæˆå…¬é’¥</span></span>
<span class="line"><span>wg pubkey &lt; client1.key &gt; client1.key.pub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ˜¾ç¤ºæ‰€æœ‰ç”Ÿæˆçš„ç§˜é’¥" tabindex="-1"><a class="header-anchor" href="#æ˜¾ç¤ºæ‰€æœ‰ç”Ÿæˆçš„ç§˜é’¥"><span>æ˜¾ç¤ºæ‰€æœ‰ç”Ÿæˆçš„ç§˜é’¥</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>cat server.key &amp;&amp; cat server.key.pub &amp;&amp; cat client1.key &amp;&amp; cat client1.key.pub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="è‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#è‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨é…ç½®æ–‡ä»¶"><span>è‡ªåŠ¨åˆ›å»ºæœåŠ¡å™¨é…ç½®æ–‡ä»¶</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>echo &quot;</span></span>
<span class="line"><span>[Interface]</span></span>
<span class="line"><span>PrivateKey = $(cat server.key) # å¡«å†™æœ¬æœºçš„privatekey å†…å®¹</span></span>
<span class="line"><span>Address = 10.0.8.1 #æœ¬æœºè™šæ‹Ÿå±€åŸŸç½‘IP</span></span>
<span class="line"><span></span></span>
<span class="line"><span>PostUp   = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -A FORWARD -o wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE</span></span>
<span class="line"><span>PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -D FORWARD -o wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE</span></span>
<span class="line"><span>#æ³¨æ„eth0éœ€è¦ä¸ºæœ¬æœºç½‘å¡åç§°</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ListenPort = 50814 # ç›‘å¬ç«¯å£</span></span>
<span class="line"><span>DNS = 8.8.8.8</span></span>
<span class="line"><span>MTU = 1420</span></span>
<span class="line"><span>[Peer]</span></span>
<span class="line"><span>PublicKey =  $(cat client1.key.pub)  #è‡ªåŠ¨client1çš„å…¬é’¥</span></span>
<span class="line"><span>AllowedIPs = 10.0.8.10/32 #å®¢æˆ·ç«¯æ‰€ä½¿ç”¨çš„IP&quot; &gt; wg0.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è®¾ç½®æœåŠ¡å™¨å¼€æœºè‡ªå¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#è®¾ç½®æœåŠ¡å™¨å¼€æœºè‡ªå¯åŠ¨"><span>è®¾ç½®æœåŠ¡å™¨å¼€æœºè‡ªå¯åŠ¨</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>systemctl enable wg-quick@wg0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="å¯åŠ¨wireguard" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨wireguard"><span>å¯åŠ¨wireguard</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#å¯åŠ¨wg0</span></span>
<span class="line"><span>wg-quick up wg0</span></span>
<span class="line"><span>#å…³é—­wg0</span></span>
<span class="line"><span>wg-quick down wg0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‰‹åŠ¨åˆ›å»ºæœåŠ¡å™¨é…ç½®æ–‡ä»¶-å¾…å®Œæˆ" tabindex="-1"><a class="header-anchor" href="#æ‰‹åŠ¨åˆ›å»ºæœåŠ¡å™¨é…ç½®æ–‡ä»¶-å¾…å®Œæˆ"><span>æ‰‹åŠ¨åˆ›å»ºæœåŠ¡å™¨é…ç½®æ–‡ä»¶ï¼ˆå¾…å®Œæˆï¼‰</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nano /etc/wireguard/wg0.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="wireguardå®¢æˆ·ç«¯ä¸‹è½½åœ°å€" tabindex="-1"><a class="header-anchor" href="#wireguardå®¢æˆ·ç«¯ä¸‹è½½åœ°å€"><span>wireguardå®¢æˆ·ç«¯ä¸‹è½½åœ°å€</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>https://www.wireguard.com/install/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="å®¢æˆ·ç«¯é…ç½®-ä»¥client1ä¸ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯é…ç½®-ä»¥client1ä¸ºä¾‹"><span>å®¢æˆ·ç«¯é…ç½®ï¼ˆä»¥client1ä¸ºä¾‹ï¼‰</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Interface]</span></span>
<span class="line"><span>PrivateKey = 6M8HEZioew+vR3i53sPc64Vg40YsuMzh4vI1Lkc88Xo= #æ­¤å¤„ä¸ºclient1çš„ç§é’¥</span></span>
<span class="line"><span>Address = 10.0.8.10 #æ­¤å¤„ä¸ºpeerè§„å®šçš„å®¢æˆ·ç«¯IP</span></span>
<span class="line"><span>MTU = 1500</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Peer]</span></span>
<span class="line"><span>PublicKey = Tt5WEa0Vycf4F+TTjR2TAHDfa2onhh+tY8YOIT3cKjI= #æ­¤å¤„ä¸ºserverçš„å…¬é’¥</span></span>
<span class="line"><span>AllowedIPs = 10.0.8.0/24 #æ­¤å¤„ä¸ºå…è®¸çš„æœåŠ¡å™¨IP</span></span>
<span class="line"><span>Endpoint = 114.132.56.178:50814 #æœåŠ¡å™¨å¯¹ç«¯IP+ç«¯å£</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¢åŠ æœåŠ¡å™¨å®¢æˆ·ç«¯èŠ‚ç‚¹client2" tabindex="-1"><a class="header-anchor" href="#å¢åŠ æœåŠ¡å™¨å®¢æˆ·ç«¯èŠ‚ç‚¹client2"><span>å¢åŠ æœåŠ¡å™¨å®¢æˆ·ç«¯èŠ‚ç‚¹client2</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#ç”Ÿæˆç§é’¥</span></span>
<span class="line"><span>wg genkey &gt; client2.key</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#é€šè¿‡ç§é’¥ç”Ÿæˆå…¬é’¥</span></span>
<span class="line"><span>wg pubkey &lt; client2.key &gt; client2.key.pub</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#å°†peerå…¬é’¥åŠ å…¥wg0.confé…ç½®</span></span>
<span class="line"><span>echo &quot;</span></span>
<span class="line"><span>[Peer]</span></span>
<span class="line"><span>PublicKey =  $(cat client2.key.pub)  #è‡ªåŠ¨client1çš„å…¬é’¥</span></span>
<span class="line"><span>AllowedIPs = 10.0.8.11/32 #å®¢æˆ·ç«¯Client2æ‰€ä½¿ç”¨çš„IP&quot; &gt;&gt; wg0.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,37)]))}const t=a(l,[["render",r],["__file","åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»ºï¼ˆåŸºäºLighthouseæœåŠ¡å™¨ï¼‰.html.vue"]]),h=JSON.parse('{"path":"/note-book/VirtualPrivateNetwork/%E5%B9%BF%E4%B9%89VirtualPrivateNetwork/%E5%9F%BA%E4%BA%8EWireguard%E6%8A%80%E6%9C%AF%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%BB%9C%E6%90%AD%E5%BB%BA%EF%BC%88%E5%9F%BA%E4%BA%8ELighthouse%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%89.html","title":"åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»ºï¼ˆåŸºäºLighthouseæœåŠ¡å™¨ï¼‰","lang":"zh-CN","frontmatter":{"description":"åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»ºï¼ˆåŸºäºLighthouseæœåŠ¡å™¨ï¼‰ æœåŠ¡ç«¯å®‰è£… ï¼ˆå¼ºçƒˆæ¨è docker å®‰è£…ï¼‰ Dockerå®‰è£…Wireguard (æ›´ç®€å•æ›´æ–¹ä¾¿) é€šè¿‡å®¹å™¨å®‰è£…wg-easy æ‹¬å·é‡Œé¢çš„çš„æ˜¯ä½ éœ€è¦ä¿®æ”¹çš„ï¼Œä¿®æ”¹å®Œåˆ æ‰å°±å¯ä»¥äº† å…³äºCentOS 7 æ¨¡å—å®‰è£… æ›´æ–°å®¹å™¨å‘½ä»¤ å®¢æˆ·ç«¯ä¸‹è½½ä¸é…ç½® å®¢æˆ·ç«¯çš„ä¸‹è½½ï¼ˆéœ€è¦æœ‰ç§‘å­¦ä¸Šç½‘æ¡ä»¶ï¼‰...","head":[["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/VirtualPrivateNetwork/%E5%B9%BF%E4%B9%89VirtualPrivateNetwork/%E5%9F%BA%E4%BA%8EWireguard%E6%8A%80%E6%9C%AF%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%BB%9C%E6%90%AD%E5%BB%BA%EF%BC%88%E5%9F%BA%E4%BA%8ELighthouse%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%89.html"}],["meta",{"property":"og:site_name","content":"è¿ç»´å¼€å‘ç»¿çš®ä¹¦"}],["meta",{"property":"og:title","content":"åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»ºï¼ˆåŸºäºLighthouseæœåŠ¡å™¨ï¼‰"}],["meta",{"property":"og:description","content":"åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»ºï¼ˆåŸºäºLighthouseæœåŠ¡å™¨ï¼‰ æœåŠ¡ç«¯å®‰è£… ï¼ˆå¼ºçƒˆæ¨è docker å®‰è£…ï¼‰ Dockerå®‰è£…Wireguard (æ›´ç®€å•æ›´æ–¹ä¾¿) é€šè¿‡å®¹å™¨å®‰è£…wg-easy æ‹¬å·é‡Œé¢çš„çš„æ˜¯ä½ éœ€è¦ä¿®æ”¹çš„ï¼Œä¿®æ”¹å®Œåˆ æ‰å°±å¯ä»¥äº† å…³äºCentOS 7 æ¨¡å—å®‰è£… æ›´æ–°å®¹å™¨å‘½ä»¤ å®¢æˆ·ç«¯ä¸‹è½½ä¸é…ç½® å®¢æˆ·ç«¯çš„ä¸‹è½½ï¼ˆéœ€è¦æœ‰ç§‘å­¦ä¸Šç½‘æ¡ä»¶ï¼‰..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-01T09:17:48.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-01T09:17:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»ºï¼ˆåŸºäºLighthouseæœåŠ¡å™¨ï¼‰\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-01T09:17:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"PaperDragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"]]},"git":{"createdTime":1691939318000,"updatedTime":1730452668000,"contributors":[{"name":"PaperDragon","username":"PaperDragon","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon"},{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon-SH"}]},"readingTime":{"minutes":2.29,"words":688},"filePathRelative":"note-book/VirtualPrivateNetwork/å¹¿ä¹‰VirtualPrivateNetwork/åŸºäºWireguardæŠ€æœ¯çš„è™šæ‹Ÿä¸ªäººç½‘ç»œæ­å»ºï¼ˆåŸºäºLighthouseæœåŠ¡å™¨ï¼‰.md","localizedDate":"2023å¹´8æœˆ13æ—¥","excerpt":"\\n<h2>æœåŠ¡ç«¯å®‰è£… ï¼ˆå¼ºçƒˆæ¨è docker å®‰è£…ï¼‰</h2>\\n<h2>Dockerå®‰è£…Wireguard  (æ›´ç®€å•æ›´æ–¹ä¾¿)</h2>\\n<h3>é€šè¿‡å®¹å™¨å®‰è£…wg-easy</h3>\\n<p>æ‹¬å·é‡Œé¢çš„çš„æ˜¯ä½ éœ€è¦ä¿®æ”¹çš„ï¼Œä¿®æ”¹å®Œåˆ æ‰å°±å¯ä»¥äº†</p>\\n<h4>å…³äºCentOS 7 æ¨¡å—å®‰è£…</h4>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">$</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> yum</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> epel-release</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> elrepo-release</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">$</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> yum</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> yum-plugin-elrepo</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">$</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> yum</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> kmod-wireguard</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> wireguard-tools</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{t as comp,h as data};
