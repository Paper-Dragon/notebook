import{ah as i,ai as a,an as h,am as n}from"./app-xKzUGp-n.js";const e={};function t(l,s){return n(),a("div",null,s[0]||(s[0]=[h(`<h1 id="sony-xperia-10-iv-pdx225-aosp14编译和刷机方法" tabindex="-1"><a class="header-anchor" href="#sony-xperia-10-iv-pdx225-aosp14编译和刷机方法"><span>Sony Xperia 10 IV(pdx225)AOSP14编译和刷机方法</span></a></h1><h2 id="编译机环境准备" tabindex="-1"><a class="header-anchor" href="#编译机环境准备"><span>编译机环境准备</span></a></h2><h3 id="清理环境" tabindex="-1"><a class="header-anchor" href="#清理环境"><span>清理环境</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> purge</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> openjdk-</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> icedtea-</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> icedtea6-</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="安装jdk" tabindex="-1"><a class="header-anchor" href="#安装jdk"><span>安装jdk</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> openjdk-11-jdk</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">java</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openjdk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;11.0.20.1&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2023-08-24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OpenJDK</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Runtime</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Environment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (build </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">11.0.20.1+1-post-Ubuntu-0ubuntu120.04</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OpenJDK</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 64-Bit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> VM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (build </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">11.0.20.1+1-post-Ubuntu-0ubuntu120.04,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mixed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mode,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sharing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>经过测试，大版本一致即可</p><h3 id="安装依赖" tabindex="-1"><a class="header-anchor" href="#安装依赖"><span>安装依赖</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bison</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> g++-multilib</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gperf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libxml2-utils</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zlib1g-dev:i386</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> liblz4-tool</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libncurses5</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libssl-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flex</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python-is-python3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zlib1g-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libelf-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dwarves</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="下载源码" tabindex="-1"><a class="header-anchor" href="#下载源码"><span>下载源码</span></a></h2><blockquote><p>官方参考链接： https://developer.sony.com/open-source/aosp-on-xperia-open-devices/guides/aosp-build-instructions/build-aosp-android-14/</p><p>经过测试官方最新源码无效，代码没有完全更新</p><p>这里需要选择 android-14.0.0_r34 版本进行编译</p></blockquote><h3 id="下载repo工具" tabindex="-1"><a class="header-anchor" href="#下载repo工具"><span>下载repo工具</span></a></h3><p>下载工具并且添加进当前用户环境变量里</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/bin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://commondatastorage.googleapis.com/git-repo-downloads/repo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">~/bin/repo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a+x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/bin/repo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">~/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.bashrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="初始化aosp官方源码树" tabindex="-1"><a class="header-anchor" href="#初始化aosp官方源码树"><span>初始化AOSP官方源码树</span></a></h3><blockquote><p>使用 清华源更快</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/android</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/android</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># repo init -u https://android.googlesource.com/platform/manifest -b &lt;branch&gt;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">repo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.tuna.tsinghua.edu.cn/git/AOSP/platform/manifest</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> android-14.0.0_r34</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="克隆sony官方源码库" tabindex="-1"><a class="header-anchor" href="#克隆sony官方源码库"><span>克隆sony官方源码库</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .repo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/sonyxperiadev/local_manifests</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> local_manifests</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> android-14.0.0_r34</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ../..</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="同步源码" tabindex="-1"><a class="header-anchor" href="#同步源码"><span>同步源码</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">repo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sync</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -j8</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="合并源码" tabindex="-1"><a class="header-anchor" href="#合并源码"><span>合并源码</span></a></h2><blockquote><p>这一步必须执行，不单单是更新aosp源码，sony源码会合并到aosp里</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./repo_update.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="编译" tabindex="-1"><a class="header-anchor" href="#编译"><span>编译</span></a></h2><blockquote><p>编译机用了 38G 内存， 32G不够用</p><p>lunch 必须是 aosp_xqcc54-ap1a-userdebug</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build/envsetup.sh</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lunch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lunch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> aosp_xqcc54-ap1a-userdebug</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">make</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -j$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nproc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="电脑端驱动安装" tabindex="-1"><a class="header-anchor" href="#电脑端驱动安装"><span>电脑端驱动安装</span></a></h2><blockquote><p>插上手机用驱动精灵更方便，没有找到别的驱动，Android Studio会自带？</p></blockquote><h2 id="刷入" tabindex="-1"><a class="header-anchor" href="#刷入"><span>刷入</span></a></h2><blockquote><p>从官方下载OEM分区 并解压</p></blockquote><blockquote><p>https://developer.sony.com/file/download/software-binaries-for-aosp-android-14-0-kernel-5-4-murray-v3a</p></blockquote><p>总共需要如下镜像</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100663296</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> boot.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  25165824</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:31</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dtbo.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 287400120</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:40</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> product.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 446763712</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  6月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 16:26</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SW_binaries_for_Xperia_Android_14_5.4_v3a_murray.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 897827108</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:39</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> system.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200142984</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:40</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> system_ext.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   6226268</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:39</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> userdata.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      8192</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:31</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vbmeta.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      4096</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:40</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vbmeta_system.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 157900960</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:39</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vendor.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rw-r--r--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IT-Desktop</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 197121</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100663296</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 19</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 17:40</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vendor_boot.img</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="进入fastbootd模式" tabindex="-1"><a class="header-anchor" href="#进入fastbootd模式"><span>进入fastbootd模式</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">adb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fastboot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="按分区刷入" tabindex="-1"><a class="header-anchor" href="#按分区刷入"><span>按分区刷入</span></a></h3><blockquote><p>有些分区编译出来没有，不刷也能正常运行</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/boot.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vbmeta</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/vbmeta.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dtbo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/dtbo.img</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># fastboot flash recovery out/target/product/&lt;device&gt;/recovery.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> system</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/system.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vendor</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/vendor.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> userdata</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/userdata.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> product</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/product.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vbmeta_system</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/vbmeta_system.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> system_ext</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/system_ext.img</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vendor_boot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> out/target/product/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">devic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/vendor_boot.img</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># fastboot flash vendor_dlkm_a out/target/product/&lt;device&gt;/vendor_dlkm.img</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> oem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .....</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">pat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">h&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/SW_binaries_for_Xperia_Android_14_5.4_v3a_murray.img</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="重启" tabindex="-1"><a class="header-anchor" href="#重启"><span>重启</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fastboot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reboot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,43)]))}const p=i(e,[["render",t]]),r=JSON.parse('{"path":"/note-book/Android/Sony%20Xperia%2010%20IV(pdx225)AOSP14%E7%BC%96%E8%AF%91%E5%92%8C%E5%88%B7%E6%9C%BA%E6%96%B9%E6%B3%95.html","title":"Sony Xperia 10 IV(pdx225)AOSP14编译和刷机方法","lang":"zh-CN","frontmatter":{"description":"Sony Xperia 10 IV(pdx225)AOSP14编译和刷机方法 编译机环境准备 清理环境 安装jdk 经过测试，大版本一致即可 安装依赖 下载源码 官方参考链接： https://developer.sony.com/open-source/aosp-on-xperia-open-devices/guides/aosp-build-ins...","head":[["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/Android/Sony%20Xperia%2010%20IV(pdx225)AOSP14%E7%BC%96%E8%AF%91%E5%92%8C%E5%88%B7%E6%9C%BA%E6%96%B9%E6%B3%95.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"Sony Xperia 10 IV(pdx225)AOSP14编译和刷机方法"}],["meta",{"property":"og:description","content":"Sony Xperia 10 IV(pdx225)AOSP14编译和刷机方法 编译机环境准备 清理环境 安装jdk 经过测试，大版本一致即可 安装依赖 下载源码 官方参考链接： https://developer.sony.com/open-source/aosp-on-xperia-open-devices/guides/aosp-build-ins..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-21T08:59:57.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-21T08:59:57.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Sony Xperia 10 IV(pdx225)AOSP14编译和刷机方法\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-09-21T08:59:57.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"PaperDragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"]]},"git":{"createdTime":1724656010000,"updatedTime":1726909197000,"contributors":[{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon-SH"},{"name":"PaperDragon","username":"PaperDragon","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon"}]},"readingTime":{"minutes":2.33,"words":700},"filePathRelative":"note-book/Android/Sony Xperia 10 IV(pdx225)AOSP14编译和刷机方法.md","localizedDate":"2024年8月26日","excerpt":"\\n<h2>编译机环境准备</h2>\\n<h3>清理环境</h3>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> apt-get</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> purge</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> openjdk-</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">*</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> icedtea-</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">*</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> icedtea6-</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">*</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{p as comp,r as data};
