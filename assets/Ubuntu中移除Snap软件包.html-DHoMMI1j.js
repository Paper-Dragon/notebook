import{ah as a,ai as s,ar as n,am as i}from"./app-BHA0orcP.js";const t="/assets/image-20240902153642327-Bv4Ph8H2.png",p="/assets/image-20240902153708910-C8sZRApd.png",r="data:image/png;base64,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",l="/assets/image-20240902153857180-eohajOwA.png",d={};function o(c,e){return i(),s("div",null,[...e[0]||(e[0]=[n('<h1 id="ubuntu中移除snap软件包" tabindex="-1"><a class="header-anchor" href="#ubuntu中移除snap软件包"><span>Ubuntu中移除Snap软件包</span></a></h1><h2 id="ubuntu中移除snap软件包-1" tabindex="-1"><a class="header-anchor" href="#ubuntu中移除snap软件包-1"><span>Ubuntu中移除Snap软件包</span></a></h2><p>1、在你的系统中打开一个终端，使用以下命令查看已经安装的 Snap 软件包的列表。它显示了 Snap 软件包，比如 Firefox，软件商店，主题以及其它默认已经安装的核心软件包。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>snap list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+t+`" alt="image-20240902153642327"></p><p>Ubuntu Snap 包列表</p><p>2、按照以下的顺序移除 Snap 软件包。首先移除 Firefox。然后是软件商店，和用以上命令看到的你的系统中的其它软件包。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>sudo snap remove --purge firefox</span></span>
<span class="line"><span>sudo snap remove --purge snap-store</span></span>
<span class="line"><span>sudo snap remove --purge gnome-3-38-2004</span></span>
<span class="line"><span>sudo snap remove --purge gtk-common-themes</span></span>
<span class="line"><span>sudo snap remove --purge snapd-desktop-integration</span></span>
<span class="line"><span>sudo snap remove --purge bare</span></span>
<span class="line"><span>sudo snap remove --purge core20</span></span>
<span class="line"><span>sudo snap remove --purge snapd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、最后，通过 <code>apt</code> 命令移除 Snap 服务。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>sudo apt remove --autoremove snapd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+p+`" alt="image-20240902153708910"></p><p>移除 Snap 包和其它</p><p>这还没完，即使你用以上命令移除了 Snap 软件包，但是如果你没有关闭 apt 触发器，<code>sudo apt update</code> 命令会再一次将 Snap 安装回来。</p><p>4、所以，要关闭它，我们需要在 <code>/etc/apt/preferences.d/</code> 目录下创建一个 apt 设置文件 <code>nosnap.pref</code> 来关闭 Snap 服务。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>vim /etc/apt/preferences.d/nosnap.pref</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>5、添加以下的命令行，并保存该文件。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>Package: snapd</span></span>
<span class="line"><span>Pin: release a=*</span></span>
<span class="line"><span>Pin-Priority: -10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+r+`" alt="image-20240902153731295"></p><p>创建设置文件</p><p>如果你知道如何使用它，那么这个 apt 设置文件是一个潜在的工具。举个例子，在以上的状态中，<code>Pin-Priority -10</code> 意思就是阻止 Snap 软件包的安装。</p><p>与这个教程不相关的，举个例子，如果你想给所有发行版代号为 “bulleye” 的软件包超高优先权的话，那么就可以查看这些设置文件。如果你想了解更多，你可以访问 <a href="https://manpages.ubuntu.com/manpages/focal/man5/apt_preferences.5.html" target="_blank" rel="noopener noreferrer">apt 手册页</a>。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>Package: *</span></span>
<span class="line"><span>Pin: release n=bullseye</span></span>
<span class="line"><span>Pin-Priority: 900</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>6、回到我们的主题，一旦你已经保存和关闭以上文件，从终端中再次运行以下命令。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>sudo apt update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>7、最后，从 Ubuntu 中移除 Snap 的步骤全部完成。</p><h2 id="从-ubuntu-移除-snap-后使用-deb-文件安装软件商店和-firefox" tabindex="-1"><a class="header-anchor" href="#从-ubuntu-移除-snap-后使用-deb-文件安装软件商店和-firefox"><span>从 Ubuntu 移除 Snap 后使用 deb 文件安装软件商店和 Firefox</span></a></h2><p>你已经移除了 Firefox 和软件商店，但是你的工作还需要它们。</p><p>要安装 apt 版的 GNOME 软件商店，你可以使用以下命令。确保使用 <code>--install-suggests</code> 参数。否则，将会再次安装上 Snap 版本的软件包管理器！</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>apt install --install-suggests gnome-software</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>要安装 Firefox，通过以下命令使用官方 PPA 仓库。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>add-apt-repository ppa:mozillateam/ppa</span></span>
<span class="line"><span>apt update</span></span>
<span class="line"><span>apt install -t &#39;o=LP-PPA-mozillateam&#39; firefox</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>添加 PPA 仓库</p><p><img src="`+l+`" alt="image-20240902153857180"></p><p>从 PPA 仓库以 deb 文件形式安装 Firefox</p><p>一旦你已经安装完 Firefox，使用以下命令开启自动更新。要了解更多，<a href="https://www.debugpoint.com/2021/09/remove-firefox-snap-ubuntu/" target="_blank" rel="noopener noreferrer">访问此页</a>。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>echo &#39;Unattended-Upgrade::Allowed-Origins:: &quot;LP-PPA-mozillateam:\${distro_codename}&quot;;&#39; | sudo tee /etc/apt/apt.conf.d/51unattended-upgrades-firefox</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>最后但同样重要，当运行 <code>apt</code> 时，为 Firefox 创建另一个设置文件给予以上 PPA 仓库超高优先权。如果你不这么做，<code>apt update</code> 命令会再次安装 Snap 版本 Firefox，并把它的“ Snap 朋友们”带回来 。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>sudo gedit /etc/apt/preferences.d/mozillateamppa</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>最后，添加这些命令行并保存文件。</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>Package: firefox*</span></span>
<span class="line"><span>Pin: release o=LP-PPA-mozillateam</span></span>
<span class="line"><span>Pin-Priority: 501</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>完成。</p>`,41)])])}const u=a(d,[["render",o]]),g=JSON.parse('{"path":"/note-book/OperaSystems/Ubuntu/Ubuntu%E4%B8%AD%E7%A7%BB%E9%99%A4Snap%E8%BD%AF%E4%BB%B6%E5%8C%85.html","title":"Ubuntu中移除Snap软件包","lang":"zh-CN","frontmatter":{"description":"Ubuntu中移除Snap软件包 Ubuntu中移除Snap软件包 1、在你的系统中打开一个终端，使用以下命令查看已经安装的 Snap 软件包的列表。它显示了 Snap 软件包，比如 Firefox，软件商店，主题以及其它默认已经安装的核心软件包。 image-20240902153642327 Ubuntu Snap 包列表 2、按照以下的顺序移除 ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Ubuntu中移除Snap软件包\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-09-02T07:40:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/OperaSystems/Ubuntu/Ubuntu%E4%B8%AD%E7%A7%BB%E9%99%A4Snap%E8%BD%AF%E4%BB%B6%E5%8C%85.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"Ubuntu中移除Snap软件包"}],["meta",{"property":"og:description","content":"Ubuntu中移除Snap软件包 Ubuntu中移除Snap软件包 1、在你的系统中打开一个终端，使用以下命令查看已经安装的 Snap 软件包的列表。它显示了 Snap 软件包，比如 Firefox，软件商店，主题以及其它默认已经安装的核心软件包。 image-20240902153642327 Ubuntu Snap 包列表 2、按照以下的顺序移除 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-02T07:40:46.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-02T07:40:46.000Z"}]]},"git":{"createdTime":1725262846000,"updatedTime":1725262846000,"contributors":[{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon-SH"}],"changelog":[{"hash":"80ad4d3ec928a1ad1eeb23575f4d1cb612a94230","time":1725262846000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"Ubuntu中移除Snap软件包"}]},"readingTime":{"minutes":2.84,"words":853},"filePathRelative":"note-book/OperaSystems/Ubuntu/Ubuntu中移除Snap软件包.md","excerpt":"\\n<h2>Ubuntu中移除Snap软件包</h2>\\n<p>1、在你的系统中打开一个终端，使用以下命令查看已经安装的 Snap 软件包的列表。它显示了 Snap 软件包，比如 Firefox，软件商店，主题以及其它默认已经安装的核心软件包。</p>\\n<div class=\\"language-text line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"text\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-text\\"><span class=\\"line\\"><span>snap list</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{u as comp,g as data};
