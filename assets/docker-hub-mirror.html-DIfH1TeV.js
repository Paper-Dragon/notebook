import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{aj as e,ao as a,am as h}from"./app-CqcgcJcN.js";const n="/assets/image-20241010100318565-DEc5EPh4.png",t={};function l(r,i){return h(),e("div",null,i[0]||(i[0]=[a('<h1 id="docker镜像拉取加速服务及配置指南" tabindex="-1"><a class="header-anchor" href="#docker镜像拉取加速服务及配置指南"><span>Docker镜像拉取加速服务及配置指南</span></a></h1><blockquote><p>6月6日，<a href="https://mirrors.ustc.edu.cn/help/dockerhub.html" target="_blank" rel="noopener noreferrer">上海交大的 Docker Hub 镜像加速器</a> 宣布因监管要求被下架，Dockerhub 无法访问。<a href="https://web.archive.org/web/20240606081039/https://sjtug.org/post/mirror-news/2024-06-06-takedown-dockerhub/" target="_blank" rel="noopener noreferrer">具体可看此通知</a>。</p></blockquote><figure><img src="'+n+`" alt="image-20241010100318565" tabindex="0" loading="lazy"><figcaption>image-20241010100318565</figcaption></figure><p>免费Docker镜像拉取加速服务，大陆地区无限速拉取。</p><p>私有镜像功能独家支持，源码闭源，防止滥用，按照以下步骤设置镜像站即可畅快使用。</p><p>功能独家支持：</p><ul><li><a href="#%E6%AD%A5%E9%AA%A4-1-%E7%99%BB%E5%BD%95%E5%88%B0%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93">支持Dockerhub账户直接登录镜像站</a></li><li><a href="#docker%E9%95%9C%E5%83%8F%E7%AB%99%E6%8B%89%E5%8F%96%E7%A7%81%E6%9C%89%E8%B4%A6%E6%88%B7%E7%9A%84%E9%95%9C%E5%83%8F">支持拉取Dockerhub的私有仓库的镜像</a></li><li><a href="#docker%E9%80%9A%E8%BF%87%E9%95%9C%E5%83%8F%E7%AB%99%E6%8E%A8%E9%80%81%E9%95%9C%E5%83%8F%E5%88%B0dockerhub">支持推送镜像到Dockerhub账户</a></li><li><a href="#%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85docker">支持利用镜像站一键安装Docker</a></li><li><a href="#Docker%E9%85%8D%E7%BD%AE%E9%95%9C%E5%83%8Fdockerhub%E5%8A%A0%E9%80%9F">支持一键配置Docker镜像加速</a></li></ul><h2 id="docker配置镜像dockerhub加速" tabindex="-1"><a class="header-anchor" href="#docker配置镜像dockerhub加速"><span>Docker配置镜像Dockerhub加速</span></a></h2><p>Docker镜像加速不同的操作系统有不同的设置方法，需要按照操作系统类型去设置，下面给出了Linux、Windows、Mac操作系统的设置方法。为了方便使用，Linux设置镜像站已经写为脚本。</p><h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h3><p>运行以下命令来配置镜像加速服务：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://www.geekery.cn/sh/docker/set_docker_mirror.sh</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者使用下面的命令进行配置</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/sh</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;&lt;-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EOF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/etc/docker/daemon.json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">{</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;registry-mirrors&quot;: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  	&quot;https://hub.geekery.cn/&quot;,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  	&quot;https://ghcr.geekery.cn&quot;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  	]</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EOF</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这适用于Ubuntu 14.04、Debian、CentOS 6、CentOS 7、Fedora、Arch Linux、openSUSE Leap 42.1等系统。其他版本可能有细微不同，请访问官方文档获取更多详情。</p><h3 id="macos" tabindex="-1"><a class="header-anchor" href="#macos"><span>macOS</span></a></h3><h4 id="docker-for-mac" tabindex="-1"><a class="header-anchor" href="#docker-for-mac"><span>Docker For Mac</span></a></h4><p>对于macOS上的Docker For Mac用户，您可以通过以下步骤配置镜像加速服务：</p><p>点击桌面顶栏的docker图标，选择Preferences。</p><p>在Daemon标签下的Registry mirrors列表中加入以下镜像地址：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">https:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//hub.geekery.cn/</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">https:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//ghcr.geekery.cn/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>点击Apply &amp; Restart按钮使设置生效。</p><p>Docker Toolbox 等配置方法请参考官方文档</p><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h3><h4 id="docker-for-windows" tabindex="-1"><a class="header-anchor" href="#docker-for-windows"><span>Docker For Windows</span></a></h4><p>Windows系统上的Docker For Windows用户可以按照以下步骤配置镜像加速服务：</p><ul><li><p>在桌面右下角状态栏中右键docker图标，修改在Docker Daemon标签页中的json。</p></li><li><p>将以下地址加入&quot;registry-mirrors&quot;的数组里。</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">https:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//hub.geekery.cn/</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">https:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//ghcr.geekery.cn/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>点击Apply，重新生成Docker环境以使配置生效。</p></li></ul><p>如果您使用Docker Toolbox或其他配置方法，请参考官方文档获取详细指南。</p><h2 id="一键安装docker" tabindex="-1"><a class="header-anchor" href="#一键安装docker"><span>一键安装Docker</span></a></h2><p>一键安装脚本</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> get-docker.geekery.cn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>为了防止脚本卡住，于是我做了完整的镜像，包括脚本内的安装包仓库。</p><p>这个脚本会直接设置 <a href="https://download-docker.geekery.cn" target="_blank" rel="noopener noreferrer">https://download-docker.geekery.cn</a> 为系统源的镜像加速。</p><p>然后替换掉原有的 <a href="https://download.docker.com" target="_blank" rel="noopener noreferrer">https://download.docker.com</a> 域名。</p><h2 id="docker镜像站拉取私有账户的镜像" tabindex="-1"><a class="header-anchor" href="#docker镜像站拉取私有账户的镜像"><span>Docker镜像站拉取私有账户的镜像</span></a></h2><h3 id="步骤-1-登录到私有仓库" tabindex="-1"><a class="header-anchor" href="#步骤-1-登录到私有仓库"><span>步骤 1: 登录到私有仓库</span></a></h3><p>首先，你需要登录到你的私有Docker仓库。在终端中运行以下命令，并替换 <code>[username]</code> 和 <code>[password]</code> 为你的用户名和密码：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> login</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.geekery.cn</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [username] -p [password]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果私有仓库使用了不同的认证机制，如Token认证，你也可以使用<code>--password-stdin</code>选项来输入你的Token：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> login</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.geekery.cn</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [username] --password-stdin &lt;&lt;&lt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&lt;token&gt;&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="步骤-2-拉取镜像" tabindex="-1"><a class="header-anchor" href="#步骤-2-拉取镜像"><span>步骤 2: 拉取镜像</span></a></h3><p>一旦你成功登录，就可以从私有仓库中拉取镜像。使用<code>docker pull</code>命令加上仓库的完整URL以及镜像的名称和标签（如果有的话）。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.geekery.cn/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里 <code>&lt;namespace&gt;</code> 可以是用户名或组织名，<code>&lt;imagename&gt;</code> 是镜像的名字，<code>&lt;tag&gt;</code> 是镜像的版本标签。</p><h3 id="步骤3-恢复默认镜像名" tabindex="-1"><a class="header-anchor" href="#步骤3-恢复默认镜像名"><span>步骤3：恢复默认镜像名</span></a></h3><p>如果你想要如同DockerHub镜像一般直接不写域名直接跑，方便后面环境的使用，可以增加如下步骤恢复原有的镜像名称。</p><p>执行下面的命令将会更改Docker镜像的镜像站为Dockerhub，方便使用。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.geekery.cn/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里 <code>&lt;namespace&gt;</code> 可以是用户名或组织名，<code>&lt;imagename&gt;</code> 是镜像的名字，<code>&lt;tag&gt;</code> 是镜像的版本标签。</p><h2 id="docker通过镜像站推送镜像到dockerhub" tabindex="-1"><a class="header-anchor" href="#docker通过镜像站推送镜像到dockerhub"><span>Docker通过镜像站推送镜像到Dockerhub</span></a></h2><h3 id="步骤-1-确保已登录" tabindex="-1"><a class="header-anchor" href="#步骤-1-确保已登录"><span>步骤 1: 确保已登录</span></a></h3><p>首先，确保你已经登录到你的私有Docker仓库。如果还没有登录，可以使用以下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> login</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.geekery.cn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后，系统会提示你输入用户名和密码。</p><h3 id="步骤-2-标记镜像" tabindex="-1"><a class="header-anchor" href="#步骤-2-标记镜像"><span>步骤 2: 标记镜像</span></a></h3><p>在推送镜像前，你需要标记（tag）镜像以便它知道应该被推送到哪个仓库。使用以下格式的命令来标记镜像：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">local-image-nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">local-ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">hub.geekery.cn/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>例如，如果你有一个名为 <code>myimage</code> 的本地镜像，并且你想将其推送到 <code>hub.geekery.cn</code> 上的 <code>myuser</code> 名下的 <code>myrepo</code> 仓库，使用如下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myimage:latest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.geekery.cn/myuser/myrepo:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="步骤-3-推送镜像" tabindex="-1"><a class="header-anchor" href="#步骤-3-推送镜像"><span>步骤 3: 推送镜像</span></a></h3><p>一旦镜像被正确标记，你就可以使用 <code>docker push</code> 命令将其推送到私有仓库：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.geekery.cn/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">namespac</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">imagenam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">g&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hub.geekery.cn/myuser/myrepo:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这将把标记过的镜像推送到你的私有仓库，然后回到dockerhub检查，镜像已经推送到dockerhub当中去了。</p><h2 id="你用的节点在哪里" tabindex="-1"><a class="header-anchor" href="#你用的节点在哪里"><span>你用的节点在哪里？</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><div id="mobaxterm"><iframe style="height:800px;" src="https://cloudflare-cloudnative-pages.geekery.cn/docker"></iframe></div></div>`,67)]))}const p=s(t,[["render",l],["__file","docker-hub-mirror.html.vue"]]),c=JSON.parse('{"path":"/free-service/docker-hub-mirror.html","title":"DockerHub镜像加速","lang":"zh-CN","frontmatter":{"title":"DockerHub镜像加速","icon":"fa-brands fa-docker","breadcrumb":false,"description":"Docker镜像拉取加速服务及配置指南 6月6日，上海交大的 Docker Hub 镜像加速器 宣布因监管要求被下架，Dockerhub 无法访问。具体可看此通知。 image-20241010100318565image-20241010100318565 免费Docker镜像拉取加速服务，大陆地区无限速拉取。 私有镜像功能独家支持，源码闭源，防止滥...","head":[["meta",{"property":"og:url","content":"https://www.geekery.cn/free-service/docker-hub-mirror.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"DockerHub镜像加速"}],["meta",{"property":"og:description","content":"Docker镜像拉取加速服务及配置指南 6月6日，上海交大的 Docker Hub 镜像加速器 宣布因监管要求被下架，Dockerhub 无法访问。具体可看此通知。 image-20241010100318565image-20241010100318565 免费Docker镜像拉取加速服务，大陆地区无限速拉取。 私有镜像功能独家支持，源码闭源，防止滥..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-10T02:05:35.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-10T02:05:35.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"DockerHub镜像加速\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-10T02:05:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"PaperDragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"Docker配置镜像Dockerhub加速","slug":"docker配置镜像dockerhub加速","link":"#docker配置镜像dockerhub加速","children":[{"level":3,"title":"Linux","slug":"linux","link":"#linux","children":[]},{"level":3,"title":"macOS","slug":"macos","link":"#macos","children":[]},{"level":3,"title":"Windows","slug":"windows","link":"#windows","children":[]}]},{"level":2,"title":"一键安装Docker","slug":"一键安装docker","link":"#一键安装docker","children":[]},{"level":2,"title":"Docker镜像站拉取私有账户的镜像","slug":"docker镜像站拉取私有账户的镜像","link":"#docker镜像站拉取私有账户的镜像","children":[{"level":3,"title":"步骤 1: 登录到私有仓库","slug":"步骤-1-登录到私有仓库","link":"#步骤-1-登录到私有仓库","children":[]},{"level":3,"title":"步骤 2: 拉取镜像","slug":"步骤-2-拉取镜像","link":"#步骤-2-拉取镜像","children":[]},{"level":3,"title":"步骤3：恢复默认镜像名","slug":"步骤3-恢复默认镜像名","link":"#步骤3-恢复默认镜像名","children":[]}]},{"level":2,"title":"Docker通过镜像站推送镜像到Dockerhub","slug":"docker通过镜像站推送镜像到dockerhub","link":"#docker通过镜像站推送镜像到dockerhub","children":[{"level":3,"title":"步骤 1: 确保已登录","slug":"步骤-1-确保已登录","link":"#步骤-1-确保已登录","children":[]},{"level":3,"title":"步骤 2: 标记镜像","slug":"步骤-2-标记镜像","link":"#步骤-2-标记镜像","children":[]},{"level":3,"title":"步骤 3: 推送镜像","slug":"步骤-3-推送镜像","link":"#步骤-3-推送镜像","children":[]}]},{"level":2,"title":"你用的节点在哪里？","slug":"你用的节点在哪里","link":"#你用的节点在哪里","children":[]}],"git":{"createdTime":1707206102000,"updatedTime":1728525935000,"contributors":[{"name":"PaperDragon","email":"2678885646@qq.com","commits":6},{"name":"PaperDragon-SH","email":"2678885646@qq.com","commits":5}]},"readingTime":{"minutes":4.47,"words":1341},"filePathRelative":"free-service/docker-hub-mirror.md","localizedDate":"2024年2月6日","excerpt":"\\n<blockquote>\\n<p>6月6日，<a href=\\"https://mirrors.ustc.edu.cn/help/dockerhub.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">上海交大的 Docker Hub 镜像加速器</a> 宣布因监管要求被下架，Dockerhub 无法访问。<a href=\\"https://web.archive.org/web/20240606081039/https://sjtug.org/post/mirror-news/2024-06-06-takedown-dockerhub/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">具体可看此通知</a>。</p>\\n</blockquote>","autoDesc":true}');export{p as comp,c as data};
