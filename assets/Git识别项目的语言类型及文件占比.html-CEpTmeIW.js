import{a as s,c as a,g as t,o as n}from"./app-CJRTTn32.js";const e="/assets/20210705154350159-16919217537001-DqMug2K3.png",l="/assets/image-20220512092647797-16919217571493-CGPfQAh9.png",h={};function k(p,i){return n(),a("div",null,[...i[0]||(i[0]=[t('<h1 id="git识别项目的语言类型及文件占比" tabindex="-1"><a class="header-anchor" href="#git识别项目的语言类型及文件占比"><span>Git识别项目的语言类型及文件占比</span></a></h1><p>最近在做代码分析，想知道一个git仓库的语言类型，相信大家都见过这个： <img src="'+e+`" alt="在这里插入图片描述"> 图中列出了不同的文件类型在代码仓中的占比，那如何实现这个功能呢？</p><p>结果研究，我写了一个脚本如下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ls-files</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">awk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F/</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{print $NF}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">awk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{print $NF}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">uniq</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -rk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>解释</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># git查询文件后缀的数量，用以区分项目使用的语言。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 列出git的文件</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># git ls-files \\</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 按照‘/’分割并取出最后一个，即文件名</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |awk -F/ &#39;{print $NF}&#39; \\</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 筛选出有后缀的文件</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |grep \\\\. \\</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 按照‘.’分割并取出最后一个，即后缀名</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |awk -F. &#39;{print $NF}&#39; \\</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 排序去重统计</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |sort|uniq -c \\</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 按统计结果再次排序</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># |sort -rk 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 完整命令，在已经git clone的目录下执行：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ls-files</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">awk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F/</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{print $NF}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">awk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{print $NF}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">uniq</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -rk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>运行效果如下，每一种后缀的文件数量都被统计出来了： <img src="`+l+'" alt="image-20220512092647797"></p><p>ps: 如果不想下载全部代码，请使用git的sparse-checkout功能。</p>',9)])])}const d=s(h,[["render",k]]),g=JSON.parse(`{"path":"/note-book/Git/Git%E8%AF%86%E5%88%AB%E9%A1%B9%E7%9B%AE%E7%9A%84%E8%AF%AD%E8%A8%80%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%96%87%E4%BB%B6%E5%8D%A0%E6%AF%94.html","title":"Git识别项目的语言类型及文件占比","lang":"zh-CN","frontmatter":{"description":"Git识别项目的语言类型及文件占比 最近在做代码分析，想知道一个git仓库的语言类型，相信大家都见过这个： 在这里插入图片描述 图中列出了不同的文件类型在代码仓中的占比，那如何实现这个功能呢？ 结果研究，我写了一个脚本如下： 解释 运行效果如下，每一种后缀的文件数量都被统计出来了： image-20220512092647797 ps: 如果不想下载全...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Git识别项目的语言类型及文件占比\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-19T07:51:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/Git/Git%E8%AF%86%E5%88%AB%E9%A1%B9%E7%9B%AE%E7%9A%84%E8%AF%AD%E8%A8%80%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%96%87%E4%BB%B6%E5%8D%A0%E6%AF%94.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"Git识别项目的语言类型及文件占比"}],["meta",{"property":"og:description","content":"Git识别项目的语言类型及文件占比 最近在做代码分析，想知道一个git仓库的语言类型，相信大家都见过这个： 在这里插入图片描述 图中列出了不同的文件类型在代码仓中的占比，那如何实现这个功能呢？ 结果研究，我写了一个脚本如下： 解释 运行效果如下，每一种后缀的文件数量都被统计出来了： image-20220512092647797 ps: 如果不想下载全..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-19T07:51:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-19T07:51:00.000Z"}]]},"git":{"createdTime":1691939318000,"updatedTime":1710834660000,"contributors":[{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":1,"url":"https://github.com/Paper-Dragon"},{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon-SH"}],"changelog":[{"hash":"6eb72e4bc4704e68d24a9bfb689b62c766391096","time":1710834660000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"git"},{"hash":"392a519398b2e846f316619fbe831e100164de7c","time":1691939318000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Create The Worid!"}]},"readingTime":{"minutes":1.12,"words":337},"filePathRelative":"note-book/Git/Git识别项目的语言类型及文件占比.md","excerpt":"\\n<p>最近在做代码分析，想知道一个git仓库的语言类型，相信大家都见过这个：\\n\\n图中列出了不同的文件类型在代码仓中的占比，那如何实现这个功能呢？</p>\\n<p>结果研究，我写了一个脚本如下：</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">git</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> ls-files</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">awk</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -F/</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> '{print $NF}'</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">grep</span><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\"> \\\\\\\\</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">.</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">awk</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -F.</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> '{print $NF}'</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sort</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">uniq</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -c</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">|</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sort</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -rk</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 1</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{d as comp,g as data};
