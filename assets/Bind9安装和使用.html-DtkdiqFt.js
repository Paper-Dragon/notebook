import{ah as i,ai as a,ar as n,am as l}from"./app-BSZCYtAS.js";const h={};function e(k,s){return l(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="bind9安装和使用" tabindex="-1"><a class="header-anchor" href="#bind9安装和使用"><span>Bind9安装和使用</span></a></h1><p>CentOS下， yum install bind安装bind软件来实现DNS服务, yum info bind可以查看到描述：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Description</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BIND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (Berkeley </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Internet</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Domain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) is an implementation of the DNS</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">            :</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (Domain </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) protocols. BIND includes a DNS server (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">named</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">            :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> resolves</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> names</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> addresses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> resolver</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> library</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">            :</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (routines </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> applications</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> use</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> when</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> interfacing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DNS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">and</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">            :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tools</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> verifying</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DNS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> operating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> properly.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>BIND是DNS协议的一种实现。BIND包含了一个DNS Server（服务名叫named）,用来解析主机名到ip地址；一个解析库；一些辅助工具，还有一个安全目录工具，分别属于下面几个包：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind：包里主要包含：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    named</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DNS服务</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    named-chkconfig（named.conf文件检查工具）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    named-checkzone(zone文件检车工具）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    rndc（本地和远程dns控制工具）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind-libs：named</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DNS服务的库</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind-utils：包含一系列辅助工具来测试</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    host</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    dig</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    nslookup</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    nsupdate</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind-chroot：切根程序，用来切换默认目录到另外一个深层的安全的目录/var/named/chroot，类似于前面光盘进入救援模式的那种情况。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="named-涉及的文件" tabindex="-1"><a class="header-anchor" href="#named-涉及的文件"><span>named 涉及的文件</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/etc/named.conf</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              # bind主配置文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/etc/named.rfc1912.zones</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 定义zone的文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/etc/rc.d/init.d/named</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # bind脚本文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/etc/rndc.conf</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">               # rndc配置文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/usr/sbin/named-checkconf</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 检测/etc/named.conf文件语法</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/usr/sbin/named-checkzone</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 检测zone和对应zone文件的语法</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/usr/sbin/rndc</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">               # 远程dns管理工具</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/usr/sbin/rndc-confgen</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # 生成rndc密钥</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/var/named/named.ca</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # 根解析库</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/var/named/named.localhost</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 本地主机解析库</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/var/named/slaves</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # 从ns服务器文件夹</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以查看/usr/share/doc/bind-9.9.4/sample/下有各种例子可以参考：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@centos7 sample]#tree</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> etc</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">│</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   └──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named.rfc1912.zones</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">└──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> var</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    └──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> data</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my.external.zone.db</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my.internal.zone.db</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named.ca</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named.empty</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named.localhost</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named.loopback</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        └──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> slaves</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            ├──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my.ddns.internal.zone.db</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            └──</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> my.slave.internal.zone.db</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>根据参考来配置各个文件。</p><h2 id="named主配置文件" tabindex="-1"><a class="header-anchor" href="#named主配置文件"><span>named主配置文件</span></a></h2><p>主配置文件/etc/named.conf包括：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">监听端口(listen-on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)和ip地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">服务作用范围（本机还是指定网段还是全网）（allow-query）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">递归还是迭代查询(recursion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">根区域解析文件（zone），其他区域文件可以看到有个include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> “/etc/named.rfc1912.zones”</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">，这下面保存了localhost的区域文件，如果新添加的，卸载这个zones文件里，里面指向了zone文件地址。然后每一个zone文件，是在/var/named下面。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面是原配置文件的部分：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@centos7 named]#cat /etc/named.conf </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">options</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   listen-on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 53</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127.0.0.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; };</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ipv4监听端口和ip地址，默认只有本地的</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   listen-on-v6</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 53</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ::1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; }; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ipv6的监听端口和ip地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &quot;/var/named&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   dump-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &quot;/var/named/data/cache_dump.db&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   statistics-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/var/named/data/named_stats.txt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   memstatistics-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/var/named/data/named_mem_stats.txt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   allow-query</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   /*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> If</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> building</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> an</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> AUTHORITATIVE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DNS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> do</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NOT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> recursion.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> If</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> are</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> building</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> RECURSIVE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (caching) DNS server, you need to enable </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      recursion.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> If</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> recursive</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DNS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> has</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> public</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> address,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MUST</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> access</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      control</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> limit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> queries</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> legitimate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> users.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Failing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> do</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> so</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> will</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      cause</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> become</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> part</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> large</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> scale</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DNS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> amplification</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      attacks.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Implementing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> BCP38</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> within</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> network</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> would</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> greatly</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      reduce</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> attack</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> surface</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   */</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   recursion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 递归还是迭代查询</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   dnssec-enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dns安全扩展,可以改为no关闭</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   dnssec-validation</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//可以改为no关闭</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   /*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ISC</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DLV</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   bindkeys-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/etc/named.iscdlv.key&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   managed-keys-directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/var/named/dynamic&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   pid-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/run/named/named.pid&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   session-keyfile</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/run/named/session.key&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">logging</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        channel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> default_debug</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;data/named.run&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                severity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dynamic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;.&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 定义zone文件，这里是定义的根域的文件位置</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">   type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;named.ca&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/etc/named.rfc1912.zones&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 把named.rfc1912.zones文件包含进来</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/etc/named.root.key&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 把/etc/named.root.key文件包含进来</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面贴出一个修改后的区域文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">options</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    listen-on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 53</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.111.254</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">127.0.0.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; };  </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//监听端口修改为某一网卡地址，和回环地址。</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    listen-on-v6</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 53</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ::1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; };</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   &quot;/var/named&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    dump-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   &quot;/var/named/data/cache_dump.db&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    statistics-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/var/named/data/named_stats.txt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    memstatistics-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/var/named/data/named_mem_stats.txt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    allow-query</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     {</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 192.168.111.0/24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; }; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//查询范围只允许192.168.111.0网段查询。</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    recursion</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    dnssec-enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> no</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//关闭dnssec</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    dnssec-validation</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> no</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">//关闭dnssec</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    bindkeys-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/etc/named.iscdlv.key&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    managed-keys-directory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/var/named/dynamic&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    pid-file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/run/named/named.pid&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    session-keyfile</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/run/named/session.key&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">logging</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        channel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> default_debug</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;data/named.run&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                severity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dynamic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;.&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;named.ca&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/etc/named.rfc1912.zones&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/etc/named.root.key&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置解析库文件（Zone files）,一般是在/var/named下写，文件名格式一般写为ZONE_NAME.zone</p><table><thead><tr><th>named.conf配置文件所有的配置语句</th><th>含义</th></tr></thead><tbody><tr><td>acl</td><td>定义一个主机匹配列表，用户访问控制权限</td></tr><tr><td>controls</td><td>定义rndc工具与bind服务进程的通信</td></tr><tr><td>include</td><td>把其他文件的内容包含进来</td></tr><tr><td>key</td><td>定义加密秘钥</td></tr><tr><td>logging</td><td>定义系统日志信息</td></tr><tr><td>lwres</td><td>把named配置为轻量级解析器</td></tr><tr><td>masters</td><td>定义主域列表</td></tr><tr><td>options</td><td>设置全局选项</td></tr><tr><td>server</td><td>定义服务器属性</td></tr><tr><td>trusted-keys</td><td>定义信任的dnssec秘钥</td></tr><tr><td>view</td><td>定义视图</td></tr><tr><td>zone</td><td>定义区域</td></tr></tbody></table><ul><li>named.rfc1912.zones主配置文件</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    zone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ZONE_NAME&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">        type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {master</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">slave</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forward}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ZONE_NAME.zone&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    };</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    zone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ZONE_NAME“：定义解析库名字，通常和解析库文件前缀对应起来。</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    type：</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        master指的是主dns解析</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        slave指的是从dns解析</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        hint指的是根域名解析（根提示域）</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        forward指的是转发，转发不使用file</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    file ：定义区域解析库文件名字（位置默认在/var/named下面）,file的前缀通常和zone的名字通常对应起来，然后加一个.zone的后缀。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里给出一个自定义的总的区域定义文件，新加一个区域文件的定义：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;zhangqifei.top&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> master</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;zhangqifei.top.zone&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="区域配置文件" tabindex="-1"><a class="header-anchor" href="#区域配置文件"><span>区域配置文件</span></a></h2><p><strong>/var/named/ZONE_NAME.zone</strong>区域配置文件</p><h2 id="正向区域文件" tabindex="-1"><a class="header-anchor" href="#正向区域文件"><span>正向区域文件</span></a></h2><p>这里给出我一个自定义的区域文件：zhangqifei.top.zone</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TTL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 1D</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  SOA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  ns1.zhangqifei.top.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> me.zhangqifei.top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ( </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1H</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 10M</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1D</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3H</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">     IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  NS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ns1.zhangqifei.top</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">     IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  NS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   ns2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">         MX</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mail1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">         MX</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mail2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ns1.zhangqifei.top</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  192.168.111.254</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ns2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  192.168.111.253</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">db1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    192.168.111.100</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">db2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    192.168.111.111</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">web1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    192.168.111.200</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">web2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    192.168.111.222</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mail1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    192.168.111.10</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    192.168.111.20</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">www</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   CNAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   web1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$ORIGIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> host.com.</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TTL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 600    ; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">10</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> minutes</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SOA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  dns.host.com.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dnsadmin.host.com.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                2022022801</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">serial</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                10800</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      ; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">refresh</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (3 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">hours</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                900</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">retry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (15 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">minutes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                604800</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     ; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">expire</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (1 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">week</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                86400</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      ; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minimum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (1 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                )</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">           NS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   dns.host.com.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TTL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 60 ; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> minute</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dns</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       10.4.7.11</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HDSS7-11</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       10.4.7.11</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HDSS7-12</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       10.4.7.12</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HDSS7-21</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       10.4.7.21</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HDSS7-22</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       10.4.7.22</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">HDSS7-200</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       A</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       10.4.7.200</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>具体配置选项意义，见前一节DNS记录类型。</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">分号代表注释</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">TTL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 过期时间</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@指的就是本域</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zhangqifei.top</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SOA记录</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    代表区域授权文件的开始</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ns2.zhangqifei.top可以省略写成IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ns2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">IN都可以省略不写,比如直接写MX</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mail</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">设置.zone文件权限（参照/var/named/name.xxxx的权限来设置，这里xxx为任意字符）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 640</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zhangqifei.top.zone</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :named</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zhangqifei.top.zone</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">配置完毕后，启动或重启(已启动的话）服务。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> named</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">restart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="反向区域" tabindex="-1"><a class="header-anchor" href="#反向区域"><span><strong>反向区域</strong></span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">区域名称：是网络地址的犯些.in-addr.arpa.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">192.168.111.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> –&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">111.168.192.in-addr.arpa.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">配置方法：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">先在/etc/named.rfc1512.zones文件下插入下面内容：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Reverse_Net_Addr.in-addr.arpa&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {master</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">slave</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forward}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Net_Addr.zone&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例子：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;111.168.192.in-addr.arpa&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> master</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;192.168.111.zone&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">配置/var/named/ZONE_NAME.zone</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">不需要MX、A、AAAA，要有NS记录，以PTR记录为主。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例子：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">配置192.168.111.zone：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TTL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 1D</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  SOA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ns1.magedu.com.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> me.zhangqifei.top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    20170001</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    1H</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    5M</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    7D</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    1D</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ns1.zhangqifei.top.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ns2.zhangqifei.top.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">254</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PTR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ns1.zhangqifei.top.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">253</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PTR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ns2.zhangqifei.top.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PTR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> db1.magedu.com.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">111</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PTR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> db2.magedu.com.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">200</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PTR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> web1.magedu.com.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">222</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PTR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> web2.magedu.com.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">10</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PTR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mail1.magedu.com.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">20</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  IN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> PTR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mail2.magedu.com.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="测试" tabindex="-1"><a class="header-anchor" href="#测试"><span>测试</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@hdss7-11 named]# dig -t A hdss7-21.host.com @10.4.7.11</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; &lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> DiG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9.11.4-P2-RedHat-9.11.4-26.P2.el7_9.9</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> -t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> A</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hdss7-21.host.com</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> @10.4.7.11</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; global options: +cmd</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; Got answer:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 10788</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 1, ADDITIONAL: 2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; OPT PSEUDOSECTION:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">; EDNS: version: 0, flags:; udp: 4096</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; QUESTION SECTION:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;hdss7-21.host.com.             IN      A</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; ANSWER SECTION:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">HDSS7-21.host.com.      60      IN      A       10.4.7.21</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; AUTHORITY SECTION:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">host.com.               600     IN      NS      dns.host.com.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; ADDITIONAL SECTION:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dns.host.com.           60      IN      A       10.4.7.11</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; Query time: 0 msec</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; SERVER: 10.4.7.11#53(10.4.7.11)</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; WHEN: Mon Feb 28 17:13:07 CST 2022</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">;; MSG SIZE  rcvd: 105</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">[root@hdss7-11 named]# dig -t A hdss7-21.host.com @10.4.7.11 +short</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">10.4.7.21</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,39)])])}const p=i(h,[["render",e]]),d=JSON.parse('{"path":"/note-book/DNS/Bind9%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html","title":"Bind9安装和使用","lang":"zh-CN","frontmatter":{"description":"Bind9安装和使用 CentOS下， yum install bind安装bind软件来实现DNS服务, yum info bind可以查看到描述： BIND是DNS协议的一种实现。BIND包含了一个DNS Server（服务名叫named）,用来解析主机名到ip地址；一个解析库；一些辅助工具，还有一个安全目录工具，分别属于下面几个包： named ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Bind9安装和使用\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-09-12T16:10:13.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/DNS/Bind9%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"Bind9安装和使用"}],["meta",{"property":"og:description","content":"Bind9安装和使用 CentOS下， yum install bind安装bind软件来实现DNS服务, yum info bind可以查看到描述： BIND是DNS协议的一种实现。BIND包含了一个DNS Server（服务名叫named）,用来解析主机名到ip地址；一个解析库；一些辅助工具，还有一个安全目录工具，分别属于下面几个包： named ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-12T16:10:13.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-12T16:10:13.000Z"}]]},"git":{"createdTime":1691939318000,"updatedTime":1726157413000,"contributors":[{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":2,"url":"https://github.com/Paper-Dragon"},{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon-SH"},{"name":"dependabot[bot]","username":"dependabot[bot]","email":"49699333+dependabot[bot]@users.noreply.github.com","commits":1,"url":"https://github.com/dependabot[bot]"}],"changelog":[{"hash":"ec1a237ed76a6f8f81b89a76edb8b915081e9191","time":1726157413000,"email":"49699333+dependabot[bot]@users.noreply.github.com","author":"dependabot[bot]","message":"delete theme and description"},{"hash":"607ebb0d8018e2f5da17fcad6300af4a8917c749","time":1710926341000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"111111"},{"hash":"9ac7e0bcabe419c8b3c1baa8f257318daab8f9fd","time":1706422344000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"rename dns system"},{"hash":"392a519398b2e846f316619fbe831e100164de7c","time":1691939318000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Create The Worid!"}]},"readingTime":{"minutes":5.86,"words":1758},"filePathRelative":"note-book/DNS/Bind9安装和使用.md","excerpt":"\\n<p>CentOS下， yum install bind安装bind软件来实现DNS服务, yum info bind可以查看到描述：</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">Description</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> :</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> BIND</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (Berkeley </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">Internet</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Name</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> Domain</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">) is an implementation of the DNS</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">            :</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (Domain </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">Name</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> System</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">) protocols. BIND includes a DNS server (</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">named</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">),</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">            :</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> which</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> resolves</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> host</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> names</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> to</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> IP</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> addresses</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">; </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">a</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> resolver</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> library</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">            :</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> (routines </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">for</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> applications</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> to</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> use</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> when</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> interfacing</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> with</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> DNS</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">); </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">and</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">            :</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> tools</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> for</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> verifying</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> that</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> the</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> DNS</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> server</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> is</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> operating</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> properly.</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{p as comp,d as data};
