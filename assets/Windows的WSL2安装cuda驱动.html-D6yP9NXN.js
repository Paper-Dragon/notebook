import{ah as s,ai as a,ar as e,am as n}from"./app-CMzxIFL4.js";const h="/assets/image-20240121171210055-BJn-ajIy.png",t="/assets/7076ecb6aa51f991b36aff688a2a56b47e72c51f-Dy3-WZh5.png",l="/assets/image-20240121171058802-DbJdEYrN.png",d="/assets/image-20240121171429136-CYtR_poe.png",r={};function p(k,i){return n(),a("div",null,[...i[0]||(i[0]=[e('<h1 id="windows的wsl2安装cuda驱动" tabindex="-1"><a class="header-anchor" href="#windows的wsl2安装cuda驱动"><span>Windows的WSL2安装cuda驱动</span></a></h1><blockquote><p>部分资料来自： https://www.bilibili.com/read/cv14608547/</p><p>感谢作者： https://space.bilibili.com/157323585</p></blockquote><h2 id="安装wsl2" tabindex="-1"><a class="header-anchor" href="#安装wsl2"><span>安装WSL2</span></a></h2><p>这一步可以参考Windows官网，以及其他B站UP主的安装教程，贴两个链接（一定要装WSL2）。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">https://learn.microsoft.com/zh-cn/windows/wsl/install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+h+'" alt="image-20240121171210055"></p><h2 id="安装windows的nvidia驱动-windows下操作" tabindex="-1"><a class="header-anchor" href="#安装windows的nvidia驱动-windows下操作"><span>安装Windows的nvidia驱动（Windows下操作）</span></a></h2><p>下载并安装带有WSL2驱动的nvidia-Windows驱动</p><p>根据自己电脑显卡类型，分GeForce和QUADRO两个版本，自己电脑是哪个就选哪个。下载驱动后，安装。（安装过程中可以直接选择“精简”模式）</p><p><strong>注意！</strong></p><p><strong>有人会问：不是安装WSL2的驱动吗？为什么装Windows的？实际上，官网文档上标注 了，带有WSL2的官方nvidia驱动是整个过程唯一要装的GPU驱动！！！千万别被其他指南带错路了！（我就是没找到这个，白白浪费很多时间）</strong></p><h2 id="检测是否安装成功" tabindex="-1"><a class="header-anchor" href="#检测是否安装成功"><span>检测是否安装成功</span></a></h2><p>cmd命令行输入：</p><p>nvidia-smi</p><p>如果出现类似于下图效果，即安装完成。</p><p><img src="'+t+'" alt="img"></p><p>记下图中的CUDA version</p><h2 id="在wsl2中安装cuda-wsl2中操作" tabindex="-1"><a class="header-anchor" href="#在wsl2中安装cuda-wsl2中操作"><span>在WSL２中安装CUDA（WSL２中操作）</span></a></h2><p>参考CUDA官网，选择自己对应的版本。</p><p><img src="'+l+'" alt="image-20240121171058802"></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">https://developer.nvidia.com/cuda-downloads</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里的cuda版本，要比刚才cmd中标注的CUDA version要低。</p><p>比如我的CUDA　version是11.6，我在下载CUDA驱动时，可以安装最新的11.5版本。</p><p><strong>一定要选择标注的WSL版本！！！</strong></p><p><img src="'+d+'" alt="image-20240121171429136"></p><p>选择完版本后，下面会有整个安装提示，在WSL２中按照方法来就行，如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://developer.download.nvidia.com/compute/cuda/12.3.2/local_installers/cuda_12.3.2_545.23.08_linux.runsudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cuda_12.3.2_545.23.08_linux.run</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装相关依赖库</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> freeglut3-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build-essential</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libx11-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libxmu-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libxi-dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libgl1-mesa-glx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libglu1-mesa</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> libglu1-mesa-dev</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在Ubuntu上配置CUDA的环境变量，命令行输入：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.bashrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在末尾添加（注意：将地址里面的11.5换成自己安装的版本！）：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">usr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cuda-11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bin</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:+:</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PATH</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}}</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> LD_LIBRARY_PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">usr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">local</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cuda-11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">lib64</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LD_LIBRARY_PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:+:</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">LD_LIBRARY_PATH</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>更新文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.bashrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输入代码检测是否安装完成</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nvcc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -V</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="安装cudnn-在wsl2中安装" tabindex="-1"><a class="header-anchor" href="#安装cudnn-在wsl2中安装"><span>安装CUDNN（在WSL２中安装）</span></a></h2><p>需要注册账号，参考如下地址的3.2</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">https://blog.csdn.net/iwanvan/article/details/122119595</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后可以安装pytorch，可以直接安装最新版本，只要比驱动version低就行。</p>',41)])])}const c=s(r,[["render",p]]),g=JSON.parse('{"path":"/note-book/AI-Training/Windows%E7%9A%84WSL2%E5%AE%89%E8%A3%85cuda%E9%A9%B1%E5%8A%A8.html","title":"Windows的WSL2安装cuda驱动","lang":"zh-CN","frontmatter":{"description":"Windows的WSL2安装cuda驱动 部分资料来自： https://www.bilibili.com/read/cv14608547/ 感谢作者： https://space.bilibili.com/157323585 安装WSL2 这一步可以参考Windows官网，以及其他B站UP主的安装教程，贴两个链接（一定要装WSL2）。 image-2...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Windows的WSL2安装cuda驱动\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-12-14T15:54:51.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/AI-Training/Windows%E7%9A%84WSL2%E5%AE%89%E8%A3%85cuda%E9%A9%B1%E5%8A%A8.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"Windows的WSL2安装cuda驱动"}],["meta",{"property":"og:description","content":"Windows的WSL2安装cuda驱动 部分资料来自： https://www.bilibili.com/read/cv14608547/ 感谢作者： https://space.bilibili.com/157323585 安装WSL2 这一步可以参考Windows官网，以及其他B站UP主的安装教程，贴两个链接（一定要装WSL2）。 image-2..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-12-14T15:54:51.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-14T15:54:51.000Z"}]]},"git":{"createdTime":1705828644000,"updatedTime":1734191691000,"contributors":[{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":3,"url":"https://github.com/Paper-Dragon"},{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":4,"url":"https://github.com/PaperDragon-SH"}],"changelog":[{"hash":"e9f2763d7fe92b4115a6ff92b2784914912f73d2","time":1734191691000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"fixed image"},{"hash":"e62d801e02931b6acb97ded0454ab8b57b11e033","time":1718594929000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"解决一些用tab符合代替代码类型的markdown符号错误"},{"hash":"10c0fb7818aa3156e2604e5c3b01f5d37db77265","time":1710838922000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"标题格式化"},{"hash":"9562cdafc2bd0605cdb22ef0c8aff09031758fc3","time":1706511343000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"space key translate fail"},{"hash":"59f93f47613439a10abfb7060f7de655983c7fb9","time":1706147919000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"fixed url encode conflict with wordcloud error"},{"hash":"e11be06536fd5df9d0f42daa99aafd81455d8e3f","time":1705891627000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"remove \\\\ to allow create path in windows"},{"hash":"2a23fcea7e5cb0136a11f90e3f3f15c06726e408","time":1705828644000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"install cuda on windows 10 wsl2"}]},"readingTime":{"minutes":1.94,"words":582},"filePathRelative":"note-book/AI-Training/Windows的WSL2安装cuda驱动.md","excerpt":"\\n<blockquote>\\n<p>部分资料来自： https://www.bilibili.com/read/cv14608547/</p>\\n<p>感谢作者： https://space.bilibili.com/157323585</p>\\n</blockquote>\\n<h2>安装WSL2</h2>\\n<p>这一步可以参考Windows官网，以及其他B站UP主的安装教程，贴两个链接（一定要装WSL2）。</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">https://learn.microsoft.com/zh-cn/windows/wsl/install</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{c as comp,g as data};
