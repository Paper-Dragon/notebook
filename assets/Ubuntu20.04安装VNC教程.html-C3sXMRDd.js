import{aq as i,ar as a,aw as e,av as n}from"./app-B6pX3YiM.js";const t={};function l(h,s){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="ubuntu-20-04安装vnc教程" tabindex="-1"><a class="header-anchor" href="#ubuntu-20-04安装vnc教程"><span>Ubuntu 20.04安装VNC教程</span></a></h1><h2 id="_1-确保安装了gnome-desktop" tabindex="-1"><a class="header-anchor" href="#_1-确保安装了gnome-desktop"><span>1.确保安装了GNOME DESKTOP</span></a></h2><p>对于桌面版是不用说了，服务器版操作系统需要安装一下桌面</p><pre><code># apt install ubuntu-gnome-desktop
 
# systemctl set-default multi-user.target
 
$ startx
</code></pre><h2 id="_2-installing-vnc" tabindex="-1"><a class="header-anchor" href="#_2-installing-vnc"><span>2.Installing VNC</span></a></h2><p>不要安装tigervncserver</p><p>一定要安装这个 standalone的，会有一点区别（不识别 下面的 -localhost no)</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tigervnc-standalone-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_3-configuring-the-vnc-server" tabindex="-1"><a class="header-anchor" href="#_3-configuring-the-vnc-server"><span>3.Configuring the VNC Server</span></a></h2><p>如果你希望用某个用户比如 demo登录，就用su切换到这个用户。</p><p>如果想用root登录就直接使用root账号进行操作。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># su - demo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">demo@demoserver:~$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vncpasswd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Password:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Verify:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Would</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> like</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> view-only</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (y/n)? n</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">A</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> view-only</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> used</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面的命令会在~/.vnc/目录下生成一个 passwd文件。里面是加密的密码。</p><p>然后需要cd 到 ~/.vnc目录下，新建一个xstartup 文件</p><p>输入以下内容：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/bin/sh</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Start Gnome 3 Desktop </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[ </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-x</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /etc/vnc/xstartup ] &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exec</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/vnc/xstartup</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[ </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-r</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/.Xresources ] &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">xrdb</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $HOME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/.Xresources</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vncconfig</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -iconic</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dbus-launch</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --exit-with-session</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gnome-session</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>作用是vncserver启动的时候运行这些命令，把桌面程序启动起来。 4. ## Starting the VNC Server</p><p>$ vncserver</p><p>即可启动vnc server ,但是连不上，因为只监听了127.0.0.1，所以需要以下命令</p><p>$ vncserver -localhost no</p><p>查看全部的vnc会话</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vncserver</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -list</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">TigerVNC</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sessions:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">X</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DISPLAY</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #	PROCESS ID</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">:1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">		1607</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">:2</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">		4726</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关闭某个会话可以用下面的命令</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vncserver</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -kill</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_5-客户端选择" tabindex="-1"><a class="header-anchor" href="#_5-客户端选择"><span>5.客户端选择</span></a></h2><p>vncviewer</p><p>下载页面：</p><p>Download VNC Viewer for Windows | VNC® Connect</p><p>VNC Viewer - Download</p><p>具体使用不讲了，默认端口是5901</p>`,30)]))}const p=i(t,[["render",l],["__file","Ubuntu20.04安装VNC教程.html.vue"]]),k=JSON.parse('{"path":"/note-book/LinuxOperaSystem/VNC/Ubuntu20.04%E5%AE%89%E8%A3%85VNC%E6%95%99%E7%A8%8B.html","title":"Ubuntu 20.04安装VNC教程","lang":"zh-CN","frontmatter":{"description":"Ubuntu 20.04安装VNC教程 1.确保安装了GNOME DESKTOP 对于桌面版是不用说了，服务器版操作系统需要安装一下桌面 2.Installing VNC 不要安装tigervncserver 一定要安装这个 standalone的，会有一点区别（不识别 下面的 -localhost no) 3.Configuring the VNC ...","head":[["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/LinuxOperaSystem/VNC/Ubuntu20.04%E5%AE%89%E8%A3%85VNC%E6%95%99%E7%A8%8B.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"Ubuntu 20.04安装VNC教程"}],["meta",{"property":"og:description","content":"Ubuntu 20.04安装VNC教程 1.确保安装了GNOME DESKTOP 对于桌面版是不用说了，服务器版操作系统需要安装一下桌面 2.Installing VNC 不要安装tigervncserver 一定要安装这个 standalone的，会有一点区别（不识别 下面的 -localhost no) 3.Configuring the VNC ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-01T09:17:48.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-01T09:17:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Ubuntu 20.04安装VNC教程\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-01T09:17:48.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"PaperDragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"]]},"git":{"createdTime":1691939318000,"updatedTime":1730452668000,"contributors":[{"name":"PaperDragon","username":"PaperDragon","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon"},{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":3,"url":"https://github.com/PaperDragon-SH"}]},"readingTime":{"minutes":1.22,"words":366},"filePathRelative":"note-book/LinuxOperaSystem/VNC/Ubuntu20.04安装VNC教程.md","localizedDate":"2023年8月13日","excerpt":"\\n<h2>1.确保安装了GNOME DESKTOP</h2>\\n<p>对于桌面版是不用说了，服务器版操作系统需要安装一下桌面</p>\\n<pre><code># apt install ubuntu-gnome-desktop\\n \\n# systemctl set-default multi-user.target\\n \\n$ startx\\n</code></pre>\\n<h2>2.Installing VNC</h2>\\n<p>不要安装tigervncserver</p>\\n<p>一定要安装这个 standalone的，会有一点区别（不识别 下面的 -localhost no)</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">apt</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> tigervnc-standalone-server</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{p as comp,k as data};
