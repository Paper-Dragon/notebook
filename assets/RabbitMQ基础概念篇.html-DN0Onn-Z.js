import{a as i,c as a,g as n,o as e}from"./app-BU-guwx0.js";const l="/assets/10f1a20b1a3e99863b690c8370b906e1-4Q85_UHv.png",t="/assets/fc488c0b3dee7fcf26cc12704d023c54-CBl9Gmhm.png",h="/assets/1ff77e16369ae2d058c33d04e6b0ce8b-Ba8_pODs.png",r="/assets/5bb630a512b3b67592fcba79c239506d-Bxr2ffe2.png",p="/assets/500807b735fd0bb55da359e85652ce2e-BjPLX9m2.png",d={};function k(c,s){return e(),a("div",null,[...s[0]||(s[0]=[n('<h1 id="rabbitmq基础概念篇" tabindex="-1"><a class="header-anchor" href="#rabbitmq基础概念篇"><span>RabbitMQ基础概念篇</span></a></h1><h2 id="消息队列简介" tabindex="-1"><a class="header-anchor" href="#消息队列简介"><span>消息队列简介</span></a></h2><p>消息队列是一种用于应用程序间通信的方法，其中“消息”指的是应用程序之间传输的数据包。“消息队列”则是这种数据传输机制的核心组件，它提供了异步处理、解耦和负载均衡的能力。</p><ul><li>消息 指的是应用之间传输的数据</li><li>消息队列 应用之间通信的一种方式</li></ul><h2 id="为什么要用消息队列-异步协作机制" tabindex="-1"><a class="header-anchor" href="#为什么要用消息队列-异步协作机制"><span>为什么要用消息队列 异步协作机制</span></a></h2><p>消息队列允许发送者和接收者之间实现松散耦合，即发送者无需等待接收者的响应即可继续执行后续逻辑，而接收者可以独立于发送者的时间线处理消息。这种机制类似于快递员与菜鸟驿站的关系，快递员只需将包裹送至驿站，而无需知道包裹何时会被收件人领取。</p><blockquote><p>消息的发布者不知道谁接受的，消息的接收者不需要知道谁发出的，两者都不需要知道互相之间的存在</p></blockquote><p>异步协作机制</p><p><img src="'+l+`" alt="在这里插入图片描述"> 就像是，快递员与菜鸟驿站</p><h2 id="rabbitmq特性" tabindex="-1"><a class="header-anchor" href="#rabbitmq特性"><span>RabbitMQ特性</span></a></h2><p>RabbitMQ是一个由Erlang语言编写的开源消息代理软件，它实现了高级消息队列协议（AMQP）。AMQP是一种开放标准的应用层协议，为消息代理的设计提供了统一的框架，不受特定编程语言或平台的限制。</p><p>AMQP：Advanced Message Queue ，高级消息队列协议。应用层。方便中间件设计。（一种标准，不受语言限制，符合标准就可以）</p><ul><li><strong>集群能力</strong>：支持多节点集群，提高可用性和扩展性。</li><li><strong>高可用性</strong>：通过镜像队列和其他机制确保即使在部分节点故障时，消息依然可以被处理。</li><li><strong>灵活的路由</strong>：提供丰富的路由策略，使得消息可以根据预定义的规则被定向到不同的队列。</li><li><strong>管理界面</strong>：提供图形化的管理界面，便于监控和管理。</li><li><strong>跟踪机制</strong>：可以追踪消息的流转过程，便于调试和问题排查。</li><li><strong>可靠性</strong>：保证消息的持久存储和可靠投递。</li></ul><h2 id="rabbitmq安装启动关闭" tabindex="-1"><a class="header-anchor" href="#rabbitmq安装启动关闭"><span>RabbitMQ安装启动关闭</span></a></h2><h3 id="安装步骤" tabindex="-1"><a class="header-anchor" href="#安装步骤"><span>安装步骤</span></a></h3><ol><li><strong>安装Erlang</strong>：RabbitMQ依赖于Erlang运行环境。</li><li><strong>安装RabbitMQ</strong>：通过包管理器或官方源进行安装。</li></ol><h3 id="rabbitmq的启动和关闭" tabindex="-1"><a class="header-anchor" href="#rabbitmq的启动和关闭"><span>RabbitMQ的启动和关闭</span></a></h3><h4 id="启动rabbitmq" tabindex="-1"><a class="header-anchor" href="#启动rabbitmq"><span>启动RabbitMQ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@rabbit1 ~]# rabbitmq-server start &amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[1] </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1732</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@rabbit1 ~]# </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">              RabbitMQ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3.3.5.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Copyright</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (C) 2007-2014 GoPivotal, Inc.</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ##  ##      Licensed under the MPL.  See http://www.rabbitmq.com/</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ##  ##</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ##########  Logs: /var/log/rabbitmq/rabbit@rabbit1.log</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ######  ##        /var/log/rabbitmq/rabbit@rabbit1-sasl.log</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  ##########</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">              Starting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> broker...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> completed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> plugins.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@rabbit1 ~]#</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="报错处理" tabindex="-1"><a class="header-anchor" href="#报错处理"><span>报错处理</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">这里如果出现报错</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 可能是/var/lib/rabbitmq/.relang.cookie无权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">解决方案，chown或者chmod</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="关闭rabbitmq" tabindex="-1"><a class="header-anchor" href="#关闭rabbitmq"><span>关闭RabbitMQ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmq-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="rabbitmq插件管理" tabindex="-1"><a class="header-anchor" href="#rabbitmq插件管理"><span>RabbitMQ插件管理</span></a></h2><p>RabbitMQ通过插件系统提供了丰富的扩展性。常用的操作包括：</p><h3 id="添加插件" tabindex="-1"><a class="header-anchor" href="#添加插件"><span>添加插件</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rabbitmq-plugins enable {插件名}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="删除插件" tabindex="-1"><a class="header-anchor" href="#删除插件"><span>删除插件</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rabbitmq-plugins disable {插件名}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="开启浏览器控制面板" tabindex="-1"><a class="header-anchor" href="#开启浏览器控制面板"><span>开启浏览器控制面板</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rabbitmq-plugins enable rabbit_management</span></span>
<span class="line"><span></span></span>
<span class="line"><span>访问地址 http://YOUR_IP_ADDRESS:15672</span></span>
<span class="line"><span>但登录不进去，因为没用户</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="rabbitmq用户和权限管理" tabindex="-1"><a class="header-anchor" href="#rabbitmq用户和权限管理"><span>RabbitMQ用户和权限管理</span></a></h2><h3 id="添加用户" tabindex="-1"><a class="header-anchor" href="#添加用户"><span>添加用户</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add_user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">usernam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">passwor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@rabbit1 ~]# rabbitmqctl add_user root root</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;root&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ...</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">..</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.done.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户"><span>删除用户</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> delete_user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">usernam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="更改密码" tabindex="-1"><a class="header-anchor" href="#更改密码"><span>更改密码</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> change_password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">usernam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">new_passwor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="设置用户角色" tabindex="-1"><a class="header-anchor" href="#设置用户角色"><span>设置用户角色</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set_user_tags</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">usernam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">tag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">s&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[root@rabbit1 ~]# rabbitmqctl set_user_tags root administration</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Setting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tags</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;root&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [administration] ...</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">..</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.done.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>tag可以取的值: management monitoring policymarker administator</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>FROM : https://www.cnblogs.com/iiwen/p/5287790.html</span></span>
<span class="line"><span>RabbitMQ各类角色描述：</span></span>
<span class="line"><span>none</span></span>
<span class="line"><span>不能访问 management plugin</span></span>
<span class="line"><span></span></span>
<span class="line"><span>management</span></span>
<span class="line"><span>用户可以通过AMQP做的任何事外加：</span></span>
<span class="line"><span>列出自己可以通过AMQP登入的virtual hosts  </span></span>
<span class="line"><span>查看自己的virtual hosts中的queues, exchanges 和 bindings</span></span>
<span class="line"><span>查看和关闭自己的channels 和 connections</span></span>
<span class="line"><span>查看有关自己的virtual hosts的“全局”的统计信息，包含其他用户在这些virtual hosts中的活动。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>policymaker </span></span>
<span class="line"><span>management可以做的任何事外加：</span></span>
<span class="line"><span>查看、创建和删除自己的virtual hosts所属的policies和parameters</span></span>
<span class="line"><span></span></span>
<span class="line"><span>monitoring  </span></span>
<span class="line"><span>management可以做的任何事外加：</span></span>
<span class="line"><span>列出所有virtual hosts，包括他们不能登录的virtual hosts</span></span>
<span class="line"><span>查看其他用户的connections和channels</span></span>
<span class="line"><span>查看节点级别的数据如clustering和memory使用情况</span></span>
<span class="line"><span>查看真正的关于所有virtual hosts的全局的统计信息</span></span>
<span class="line"><span></span></span>
<span class="line"><span>administrator   </span></span>
<span class="line"><span>policymaker和monitoring可以做的任何事外加:</span></span>
<span class="line"><span>创建和删除virtual hosts</span></span>
<span class="line"><span>查看、创建和删除users</span></span>
<span class="line"><span>查看创建和删除permissions</span></span>
<span class="line"><span>关闭其他用户的connections</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="rabbitmq权限管理" tabindex="-1"><a class="header-anchor" href="#rabbitmq权限管理"><span>RabbitMQ权限管理</span></a></h2><h3 id="授权" tabindex="-1"><a class="header-anchor" href="#授权"><span>授权</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set_permissions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-p &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">vhos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">r&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">con</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">f&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">writ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">rea</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d&gt;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vhostpath</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 一个命名空间</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ，eg:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 表示根命名空间</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{user} 用户名</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{conf} 一个正则表达式match ，哪些资源能够被用户配置</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{write} 一个正则表达式match，哪些资源能够被用户读取</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{read} 一个正则表达式match，哪些资源能够被用户访问</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看权限" tabindex="-1"><a class="header-anchor" href="#查看权限"><span>查看权限</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list_permissions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">vhos</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t&gt;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">查看根路径下的用户权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rebbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list_permissions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">查看指定命名空间下的所有用户权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbirmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list_permissions</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /abc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看指定用户的权限" tabindex="-1"><a class="header-anchor" href="#查看指定用户的权限"><span>查看指定用户的权限</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list_user_permissions</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {username}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="清空指定用户的权限" tabindex="-1"><a class="header-anchor" href="#清空指定用户的权限"><span>清空指定用户的权限</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rabbitmqctl clear_permissions &lt;username&gt;</span></span>
<span class="line"><span>[root@rabbit1 ~]#  rabbitmqctl clear_permissions  root</span></span>
<span class="line"><span>Clearing permissions for user &quot;root&quot; in vhost &quot;/&quot; ...</span></span>
<span class="line"><span>...done.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="虚拟主机-virtual-hosts" tabindex="-1"><a class="header-anchor" href="#虚拟主机-virtual-hosts"><span>虚拟主机（Virtual Hosts）</span></a></h2><p>虚拟主机类似于隔离的容器，可以用来组织和隔离不同的消息队列和交换器。</p><h3 id="添加虚拟主机" tabindex="-1"><a class="header-anchor" href="#添加虚拟主机"><span>添加虚拟主机</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add_vhost</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">vhost_nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="删除虚拟主机" tabindex="-1"><a class="header-anchor" href="#删除虚拟主机"><span>删除虚拟主机</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rabbitmqctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> delete_vhost</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">vhost_nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="rabbitmq消息订阅和发送机制" tabindex="-1"><a class="header-anchor" href="#rabbitmq消息订阅和发送机制"><span>RabbitMQ消息订阅和发送机制</span></a></h2><p>消费者订阅队列，生产者发送消息，然后发布到队列，最后将消息发送给消费者， <img src="`+t+'" alt="在这里插入图片描述"><img src="'+h+'" alt="在这里插入图片描述"><img src="'+r+'" alt="在这里插入图片描述"></p><p><img src="'+p+'" alt="在这里插入图片描述"></p>',60)])])}const g=i(d,[["render",k]]),o=JSON.parse('{"path":"/note-book/RabbitMQ/RabbitMQ%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E7%AF%87.html","title":"RabbitMQ基础概念篇","lang":"zh-CN","frontmatter":{"description":"RabbitMQ基础概念篇 消息队列简介 消息队列是一种用于应用程序间通信的方法，其中“消息”指的是应用程序之间传输的数据包。“消息队列”则是这种数据传输机制的核心组件，它提供了异步处理、解耦和负载均衡的能力。 消息 指的是应用之间传输的数据 消息队列 应用之间通信的一种方式 为什么要用消息队列 异步协作机制 消息队列允许发送者和接收者之间实现松散耦合...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"RabbitMQ基础概念篇\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-04-11T02:13:31.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/RabbitMQ/RabbitMQ%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E7%AF%87.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"RabbitMQ基础概念篇"}],["meta",{"property":"og:description","content":"RabbitMQ基础概念篇 消息队列简介 消息队列是一种用于应用程序间通信的方法，其中“消息”指的是应用程序之间传输的数据包。“消息队列”则是这种数据传输机制的核心组件，它提供了异步处理、解耦和负载均衡的能力。 消息 指的是应用之间传输的数据 消息队列 应用之间通信的一种方式 为什么要用消息队列 异步协作机制 消息队列允许发送者和接收者之间实现松散耦合..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-11T02:13:31.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-11T02:13:31.000Z"}]]},"git":{"createdTime":1721716021000,"updatedTime":1744337611000,"contributors":[{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon-SH"},{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":1,"url":"https://github.com/Paper-Dragon"}],"changelog":[{"hash":"60eca57218fa12076c02b2b20532e185f2efb186","time":1744337611000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Firefox密码提取"},{"hash":"135402337ecaa7636856ad0411f1eef1d9f61a0b","time":1721716021000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"RabbitMQ基础概念篇"}]},"readingTime":{"minutes":4.87,"words":1461},"filePathRelative":"note-book/RabbitMQ/RabbitMQ基础概念篇.md","excerpt":"\\n<h2>消息队列简介</h2>\\n<p>消息队列是一种用于应用程序间通信的方法，其中“消息”指的是应用程序之间传输的数据包。“消息队列”则是这种数据传输机制的核心组件，它提供了异步处理、解耦和负载均衡的能力。</p>\\n<ul>\\n<li>消息  指的是应用之间传输的数据</li>\\n<li>消息队列  应用之间通信的一种方式</li>\\n</ul>\\n<h2>为什么要用消息队列 异步协作机制</h2>\\n<p>消息队列允许发送者和接收者之间实现松散耦合，即发送者无需等待接收者的响应即可继续执行后续逻辑，而接收者可以独立于发送者的时间线处理消息。这种机制类似于快递员与菜鸟驿站的关系，快递员只需将包裹送至驿站，而无需知道包裹何时会被收件人领取。</p>","autoDesc":true}');export{g as comp,o as data};
