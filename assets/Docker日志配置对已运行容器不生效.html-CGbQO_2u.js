import{ah as s,ai as i,ar as a,am as t}from"./app-Dqd5EEMD.js";const n={};function o(r,e){return t(),i("div",null,e[0]||(e[0]=[a(`<h1 id="docker日志配置对已运行容器不生效" tabindex="-1"><a class="header-anchor" href="#docker日志配置对已运行容器不生效"><span>Docker日志配置对已运行容器不生效</span></a></h1><h2 id="在-etc-docker-daemon-json中修改或添加log-opts参数" tabindex="-1"><a class="header-anchor" href="#在-etc-docker-daemon-json中修改或添加log-opts参数"><span>在/etc/docker/daemon.json中修改或添加log-opts参数</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;log-driver&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;json-file&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  &quot;log-opts&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">{</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;max-size&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :&quot;50m&quot;,&quot;max-file&quot;:&quot;1&quot;}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>网上很多帖子都说了怎么做，但是发现少提了一句。</p><h2 id="那就是已经创建了的容器-该选项的修改【重启daemon】是无法生效的。" tabindex="-1"><a class="header-anchor" href="#那就是已经创建了的容器-该选项的修改【重启daemon】是无法生效的。"><span><strong>那就是已经创建了的容器，该选项的修改【重启daemon】是无法生效的。</strong></span></a></h2><p><strong>我们来看官方文档：</strong></p><p><a href="https://docs.docker.com/config/containers/logging/configure/" target="_blank" rel="noopener noreferrer"><strong>https://docs.docker.com/config/containers/logging/configure/</strong></a></p><h2 id="检测方法" tabindex="-1"><a class="header-anchor" href="#检测方法"><span>检测方法</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> inspect</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{{.HostConfig.LogConfig}}&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 容器名xxx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,9)]))}const l=s(n,[["render",o]]),c=JSON.parse('{"path":"/note-book/Docker/Docker%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE%E5%AF%B9%E5%B7%B2%E8%BF%90%E8%A1%8C%E5%AE%B9%E5%99%A8%E4%B8%8D%E7%94%9F%E6%95%88.html","title":"Docker日志配置对已运行容器不生效","lang":"zh-CN","frontmatter":{"description":"Docker日志配置对已运行容器不生效 在/etc/docker/daemon.json中修改或添加log-opts参数 网上很多帖子都说了怎么做，但是发现少提了一句。 那就是已经创建了的容器，该选项的修改【重启daemon】是无法生效的。 我们来看官方文档： https://docs.docker.com/config/containers/logg...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker日志配置对已运行容器不生效\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-03-22T06:15:52.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Paper-Dragon\\",\\"url\\":\\"https://github.com/Paper-Dragon\\",\\"email\\":\\"2678885646@qq.com\\"}]}"],["meta",{"property":"og:url","content":"https://www.geekery.cn/note-book/Docker/Docker%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE%E5%AF%B9%E5%B7%B2%E8%BF%90%E8%A1%8C%E5%AE%B9%E5%99%A8%E4%B8%8D%E7%94%9F%E6%95%88.html"}],["meta",{"property":"og:site_name","content":"运维开发绿皮书"}],["meta",{"property":"og:title","content":"Docker日志配置对已运行容器不生效"}],["meta",{"property":"og:description","content":"Docker日志配置对已运行容器不生效 在/etc/docker/daemon.json中修改或添加log-opts参数 网上很多帖子都说了怎么做，但是发现少提了一句。 那就是已经创建了的容器，该选项的修改【重启daemon】是无法生效的。 我们来看官方文档： https://docs.docker.com/config/containers/logg..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-22T06:15:52.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-22T06:15:52.000Z"}]]},"git":{"createdTime":1691939318000,"updatedTime":1711088152000,"contributors":[{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":1,"url":"https://github.com/Paper-Dragon"},{"name":"PaperDragon-SH","username":"PaperDragon-SH","email":"2678885646@qq.com","commits":1,"url":"https://github.com/PaperDragon-SH"}],"changelog":[{"hash":"f7f2a09c84ecf3e02274fd7699c5c95c0fcf1863","time":1711088152000,"email":"2678885646@qq.com","author":"PaperDragon-SH","message":"Docker的Markdown规范化"},{"hash":"392a519398b2e846f316619fbe831e100164de7c","time":1691939318000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Create The Worid!"}]},"readingTime":{"minutes":0.37,"words":111},"filePathRelative":"note-book/Docker/Docker日志配置对已运行容器不生效.md","excerpt":"\\n<h2>在/etc/docker/daemon.json中修改或添加log-opts参数</h2>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">\\"log-driver\\"</span><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">:</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">\\"json-file\\"</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">,</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">  \\"log-opts\\"</span><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">:</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">{</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"max-size\\"</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> :\\"50m\\",\\"max-file\\":\\"1\\"}</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{l as comp,c as data};
