import{ah as i,ai as a,ar as e,am as n}from"./app-C9yOhdWd.js";const h="/assets/image-20240722224550408-yQby4Dpq.png",l={};function t(d,s){return n(),a("div",null,s[0]||(s[0]=[e('<h1 id="kali安装ca证书" tabindex="-1"><a class="header-anchor" href="#kali安装ca证书"><span>Kali安装CA证书</span></a></h1><h2 id="准备证书文件" tabindex="-1"><a class="header-anchor" href="#准备证书文件"><span>准备证书文件</span></a></h2><p>这个文章写了给Kali安装ca证书来逆向Web接口,的ca证书安装过程。 在进行任何操作之前，确保你拥有正确的证书文件。通常情况下，企业或组织会提供根证书，其扩展名可能为<code>.cer</code>。为了兼容性，我们需要将这些证书转换为<code>.pem</code>格式。</p><h3 id="转换证书格式" tabindex="-1"><a class="header-anchor" href="#转换证书格式"><span>转换证书格式</span></a></h3><p>对于<code>.cer</code>文件，使用OpenSSL将其转换为<code>.pem</code>格式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> x509</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -inform</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> der</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> burpsuite-cacert.der</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> burpsuite-ca.crt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="导入证书至linux系统" tabindex="-1"><a class="header-anchor" href="#导入证书至linux系统"><span>导入证书至Linux系统</span></a></h2><h3 id="创建额外证书目录" tabindex="-1"><a class="header-anchor" href="#创建额外证书目录"><span>创建额外证书目录</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/ca-certificates/extra</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="拷贝证书文件" tabindex="-1"><a class="header-anchor" href="#拷贝证书文件"><span>拷贝证书文件</span></a></h3><p>将转换后的<code>.crt</code>或<code>.pem</code>证书文件拷贝到<code>extra</code>目录下：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> burpsuite-ca.crt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/ca-certificates/extra/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="配置证书" tabindex="-1"><a class="header-anchor" href="#配置证书"><span>配置证书</span></a></h3><p>方法1： 更新证书配置文件以包含新的证书：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dpkg-reconfigure</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca-certificates</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+h+`" alt="image-20240722224550408"></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">┌──(root㉿kali</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)-[/home/kali/Downloads]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">└─#</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dpkg-reconfigure</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca-certificates</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Updating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> certificates</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/ssl/certs...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> added,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> removed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; done.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">正在处理用于</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca-certificates</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (20240203) 的触发器 ...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Updating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> certificates</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/ssl/certs...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> added,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> removed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; done.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Running</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hooks</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/ca-certificates/update.d...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">done.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">正在处理用于</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ca-certificates-java</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (20240118) 的触发器 ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">done.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方法2：或者手动编辑<code>/etc/ca-certificates.conf</code>文件，添加一行指向你的证书路径：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">extra/burpsuite-ca.crt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后运行：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update-ca-certificates</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,21)]))}const k=i(l,[["render",t]]),p=JSON.parse('{"path":"/note-book/Security/Kali%E5%AE%89%E8%A3%85CA%E8%AF%81%E4%B9%A6.html","title":"Kali安装CA证书","lang":"zh-CN","frontmatter":{"feed":false,"seo":false,"head":[]},"git":{"createdTime":1721659633000,"updatedTime":1726163060000,"contributors":[{"name":"Paper-Dragon","username":"Paper-Dragon","email":"2678885646@qq.com","commits":3,"url":"https://github.com/Paper-Dragon"}],"changelog":[{"hash":"c28e56d609a913f28105c711dc7540aae5922a55","time":1726163060000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"markdown format"},{"hash":"5607d05b8d0c90562ff40b1baf929b139c9622fc","time":1721702471000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Update Kali安装CA证书.md"},{"hash":"86d69cb6c4215c2f5dbd5c20fdc5d920e30269e9","time":1721659633000,"email":"2678885646@qq.com","author":"Paper-Dragon","message":"Kali安装CA证书"}]},"readingTime":{"minutes":1.09,"words":327},"filePathRelative":"note-book/Security/Kali安装CA证书.md"}');export{k as comp,p as data};
