# Cisco路由器RIPv2配置

> 本文档详细说明了如何在路由器 R1 上配置RIP 协议，然后确保网络流量能够通过指定的接口离开，并正确通告路由信息。
>
> 在现代网络中使用的较少！！！

## 什么是 RIP 协议？

RIP（Routing Information Protocol，路由信息协议）是一种基于距离矢量的路由协议，最早定义在 RFC 1058 中。它是互联网中最早被广泛使用的路由协议之一。RIP 使用跳数作为度量值，最多允许 15 跳，16 跳被认为是不可达。RIP 的更新周期为 30 秒，通过周期性广播整个路由表来维护和更新路由信息。

**路由信息协议（RIP）**协议是基于距离矢量路由的域内（内部）路由协议，它在自治系统内部使用。路由器和网络链路称为节点。路由表的第一列是目标地址。该协议中度量的成本是跳数，跳数是到达目的地需要传递的网络数。在这里，无限是由固定数字16定义的，这意味着使用Rip，网络的跳数不能超过15。

使用 RIP 协议的主要原因包括：
- 简单易用，配置方便。
- 对小型和中型网络环境足够有效。
- 兼容性好，许多路由器都支持。

## 配置步骤

### 步骤 1：创建默认路由
使用适当的命令在 R1 上创建默认路由，以使所有互联网流量通过 S0/0/1 离开网络。
```bash
R1(config)# ip route 0.0.0.0 0.0.0.0 serial 0/0/1
```

### 步骤 2：进入 RIP 协议配置模式

进入 RIP 协议配置模式，准备进行后续的 RIP 配置。

```bash
R1(config)# router rip
```

### 步骤 3：配置 RIP 协议的第 2 版并禁用网络汇总

在 RIP 协议配置模式下，启用 RIP 的第 2 版，并禁用自动汇总功能。RIP 第 2 版支持无类路由和多播传输，改进了第 1 版的许多限制。

```bash
R1(config-router)# version 2
R1(config-router)# no auto-summary
```

### 步骤 4：为连接到 R1 的网络配置 RIP

在 RIP 协议配置模式下，配置 R1 的直连网络，使其能够通过 RIP 协议进行通告。这确保了这些网络能够被 RIP 路由器正确识别和路由。

```bash
R1(config-router)# network 192.168.1.0
R1(config-router)# network 192.168.2.0
```

### 步骤 5：配置不含路由器的 LAN 端口

配置不含路由器的 LAN 端口，这样端口就不会发出任何路由信息。这样可以减少不必要的 RIP 路由更新，减少网络负载。

```bash
R1(config-router)# passive-interface gigabitEthernet 0/0
```

### 步骤 6：通告默认路由

通过其他 RIP 路由器，通告步骤 1 中配置的默认路由。这使得网络中的其他 RIP 路由器知道如何访问外部网络。

```bash
R1(config-router)# default-information originate 
```

### 步骤 7：保存配置

保存当前的运行配置到启动配置，以确保配置在重启后依然有效。

```bash
R1# wr
# 或者
R1# copy running-config startup-config 
```